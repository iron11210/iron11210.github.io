{
    "version": "https://jsonfeed.org/version/1",
    "title": "杂项笔记",
    "subtitle": "",
    "icon": "http://example.com/images/favicon.ico",
    "description": "",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2025/12/06/game-engine/unity/%E9%9D%A2%E7%BB%8F/%E6%AC%A2%E5%8A%A8%E7%A7%91%E6%8A%80%E4%B8%80%E9%9D%A2(hr%E9%9D%A2)/",
            "url": "http://example.com/2025/12/06/game-engine/unity/%E9%9D%A2%E7%BB%8F/%E6%AC%A2%E5%8A%A8%E7%A7%91%E6%8A%80%E4%B8%80%E9%9D%A2(hr%E9%9D%A2)/",
            "title": "",
            "date_published": "2025-12-06T13:12:19.117Z",
            "content_html": "<ol>\n<li>介绍一下自己</li>\n<li>这几个项目你是怎么完成的</li>\n<li>平时如何学习的，在学校是课程学的多还是自己学的多</li>\n<li>优点 / 缺点</li>\n<li>在团队中的作用</li>\n<li>你觉得你和我们公司哪些比较契合，有什么优势</li>\n<li>你如何看待 AI 会替代程序员这个说法</li>\n<li>目前有没有 offer，在哪里</li>\n<li>为什么考虑我们公司，我们公司和其他公司同时拥有 offer 的话你会选择哪里</li>\n</ol>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2025/12/06/game-engine/unity/%E9%9D%A2%E7%BB%8F/%E5%90%88%E8%82%A5%E5%B8%B8%E6%98%A5%E8%97%A4/",
            "url": "http://example.com/2025/12/06/game-engine/unity/%E9%9D%A2%E7%BB%8F/%E5%90%88%E8%82%A5%E5%B8%B8%E6%98%A5%E8%97%A4/",
            "title": "",
            "date_published": "2025-12-06T13:11:36.231Z",
            "content_html": "<ol>\n<li>你觉得自己是一个怎么样的人？优点？缺点？</li>\n<li>你对未来的规划？</li>\n</ol>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2025/12/06/game-engine/unity/%E9%9D%A2%E7%BB%8F/%E7%8E%8B%E7%89%8C%E6%B8%B8%E6%88%8F%E4%B8%80%E9%9D%A2/",
            "url": "http://example.com/2025/12/06/game-engine/unity/%E9%9D%A2%E7%BB%8F/%E7%8E%8B%E7%89%8C%E6%B8%B8%E6%88%8F%E4%B8%80%E9%9D%A2/",
            "title": "",
            "date_published": "2025-12-06T13:08:57.797Z",
            "content_html": "<ol>\n<li>项目是怎么做的，团队协作还是？如何分工，你和另一个程序是如何合作的？你负责什么部分？</li>\n<li>数学怎么样，还可以，来做一道题吧</li>\n<li>给我讲讲如何判断一个矩形和一个圆的关系，到代码层面呢？算法如何实现？</li>\n<li>c# 的 list 的查找事件复杂度？为什么？他的数据结构？</li>\n<li>在一个数组中删除元素的时间复杂度？</li>\n<li>投球同色消游戏，如何设计数据结构？如何获取暴露在外面的元素？</li>\n<li>敌人的扇形攻击范围，如何判定是否在攻击范围内？</li>\n</ol>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2025/11/12/game-engine/unity/AssetBundle/Builder%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E4%B9%8B%E4%B8%80%20Collect/",
            "url": "http://example.com/2025/11/12/game-engine/unity/AssetBundle/Builder%E6%A0%B8%E5%BF%83%E5%87%BD%E6%95%B0%E4%B9%8B%E4%B8%80%20Collect/",
            "title": "Builder核心函数之一 Collect",
            "date_published": "2025-11-11T16:00:00.000Z",
            "content_html": "<h2 id=\"1收集buildsetting中配置的所有新路径\"><a class=\"anchor\" href=\"#1收集buildsetting中配置的所有新路径\">#</a> 1. 收集 BuildSetting 中配置的所有新路径</h2>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1️⃣ 收集所有在 BuildSetting 中配置的资源路径  </span></span><br><span class=\"line\">ms_CollectBuildSettingFileProfiler.Start();  </span><br><span class=\"line\">HashSet&lt;<span class=\"built_in\">string</span>&gt; files = buildSetting.Collect();  </span><br><span class=\"line\">ms_CollectBuildSettingFileProfiler.Stop();</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"2收集每个文件的依赖关系\"><a class=\"anchor\" href=\"#2收集每个文件的依赖关系\">#</a> 2. 收集每个文件的依赖关系</h2>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 2️⃣ 收集每个文件的依赖关系（.mat、.png、.anim等）  </span></span><br><span class=\"line\">ms_CollectDependencyProfiler.Start();  </span><br><span class=\"line\">Dictionary&lt;<span class=\"built_in\">string</span>, List&lt;<span class=\"built_in\">string</span>&gt;&gt; dependencyDic = CollectDependency(files);  </span><br><span class=\"line\">ms_CollectDependencyProfiler.Stop();</span><br></pre></td></tr></table></figure><br>\n 这里来讲一讲 CollectDependency 这个函数</p>\n<h3 id=\"21管理进度条\"><a class=\"anchor\" href=\"#21管理进度条\">#</a> 2.1 管理进度条</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">float</span> min = ms_GetDependencyProgress.x;  </span><br><span class=\"line\"><span class=\"built_in\">float</span> max = ms_GetDependencyProgress.y;</span><br></pre></td></tr></table></figure><br>\n 通过 ms_GetDependencyProgress 来管理进度条的进度</p>\n<h3 id=\"22-记录依赖关系并转化为列表方便处理和拓展\"><a class=\"anchor\" href=\"#22-记录依赖关系并转化为列表方便处理和拓展\">#</a> 2.2 记录依赖关系并转化为列表，方便处理和拓展</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 记录依赖关系： key = 文件路径，value = 它依赖的文件列表  </span></span><br><span class=\"line\">Dictionary&lt;<span class=\"built_in\">string</span>, List&lt;<span class=\"built_in\">string</span>&gt;&gt; dependencyDic = <span class=\"keyword\">new</span> Dictionary&lt;<span class=\"built_in\">string</span>, List&lt;<span class=\"built_in\">string</span>&gt;&gt;(files.Count);  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// 将输入集合转成 List 方便动态扩展  </span></span><br><span class=\"line\">List&lt;<span class=\"built_in\">string</span>&gt; fileList = <span class=\"keyword\">new</span> List&lt;<span class=\"built_in\">string</span>&gt;(files);</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"23-获取依赖\"><a class=\"anchor\" href=\"#23-获取依赖\">#</a> 2.3 获取依赖</h3>\n<p>既然已经获取了文件列表，下一步就是对文件列表进行遍历来得到各个文件依赖的函数了</p>\n<h4 id=\"231-更新进度条\"><a class=\"anchor\" href=\"#231-更新进度条\">#</a> 2.3.1 更新进度条</h4>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 每隔 10 个文件更新一次进度条  </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (i % <span class=\"number\">10</span> == <span class=\"number\">0</span>)  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    <span class=\"built_in\">float</span> progress = min + (max - min) * ((<span class=\"built_in\">float</span>)i / (fileList.Count * <span class=\"number\">3</span>));  </span><br><span class=\"line\">    EditorUtility.DisplayProgressBar(<span class=\"string\">$&quot;<span class=\"subst\">&#123;<span class=\"keyword\">nameof</span>(CollectDependency)&#125;</span>&quot;</span>, <span class=\"string\">&quot;正在收集资源依赖关系...&quot;</span>, progress);  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"232-通过unity的api获取依赖并过滤\"><a class=\"anchor\" href=\"#232-通过unity的api获取依赖并过滤\">#</a> 2.3.2 通过 Unity 的 API 获取依赖并过滤</h4>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 使用 Unity 的 API 获取依赖文件  </span></span><br><span class=\"line\"><span class=\"built_in\">string</span>[] dependencies = AssetDatabase.GetDependencies(assetUrl, <span class=\"literal\">true</span>);  </span><br><span class=\"line\">List&lt;<span class=\"built_in\">string</span>&gt; dependencyList = <span class=\"keyword\">new</span> List&lt;<span class=\"built_in\">string</span>&gt;(dependencies.Length);  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// 遍历所有依赖文件，过滤掉脚本等无关文件  </span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> j = <span class=\"number\">0</span>; j &lt; dependencies.Length; j++)  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    <span class=\"built_in\">string</span> tempAssetUrl = dependencies[j];  </span><br><span class=\"line\">    <span class=\"built_in\">string</span> extension = Path.GetExtension(tempAssetUrl).ToLower();  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 忽略没有后缀或 .cs / .dll 文件  </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">string</span>.IsNullOrEmpty(extension) || extension == <span class=\"string\">&quot;.cs&quot;</span> || extension == <span class=\"string\">&quot;.dll&quot;</span>)  </span><br><span class=\"line\">        <span class=\"keyword\">continue</span>;  </span><br><span class=\"line\">  </span><br><span class=\"line\">    dependencyList.Add(tempAssetUrl);  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 如果依赖文件之前未记录，则加入列表以便继续处理  </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!fileList.Contains(tempAssetUrl))  </span><br><span class=\"line\">        fileList.Add(tempAssetUrl);  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//最后把这个依赖列表通过字典对应url路径</span></span><br><span class=\"line\">dependencyDic.Add(assetUrl, dependencyList);</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"3构建一个资源-类型映射表direct-或-dependency\"><a class=\"anchor\" href=\"#3构建一个资源-类型映射表direct-或-dependency\">#</a> 3. 构建一个资源 → 类型映射表（Direct 或 Dependency）</h2>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Dictionary&lt;<span class=\"built_in\">string</span>, EResourceType&gt; assetDic = <span class=\"keyword\">new</span> Dictionary&lt;<span class=\"built_in\">string</span>, EResourceType&gt;();  </span><br><span class=\"line\"><span class=\"keyword\">foreach</span> (<span class=\"built_in\">string</span> url <span class=\"keyword\">in</span> files)  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    assetDic.Add(url, EResourceType.Direct);  <span class=\"comment\">// 配置中直接列出的文件为 Direct</span></span><br><span class=\"line\">&#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"keyword\">foreach</span> (<span class=\"built_in\">string</span> url <span class=\"keyword\">in</span> dependencyDic.Keys)  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!assetDic.ContainsKey(url))  </span><br><span class=\"line\">    &#123;        assetDic.Add(url, EResourceType.Dependency); <span class=\"comment\">// 未直接配置但被依赖的文件为 Dependency    </span></span><br><span class=\"line\">\t&#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"4-保存bundle保存的资源\"><a class=\"anchor\" href=\"#4-保存bundle保存的资源\">#</a> 4. 保存 Bundle 保存的资源</h2>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//此字典保存的是Bundle保存的资源类型  </span></span><br><span class=\"line\">ms_CollectBundleProfiler.Start();  </span><br><span class=\"line\">Dictionary&lt;<span class=\"built_in\">string</span>,List&lt;<span class=\"built_in\">string</span>&gt;&gt; bundleDic = CollectBundle(buildSetting, assetDic, dependencyDic);  </span><br><span class=\"line\">ms_CollectBundleProfiler.Stop();</span><br></pre></td></tr></table></figure></p>\n<p>这里再来讲一讲 CollectBundle 这个函数</p>\n<h3 id=\"41-同样先记录进度条\"><a class=\"anchor\" href=\"#41-同样先记录进度条\">#</a> 4.1 同样先记录进度条</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">float</span> min = ms_CollectBundleInfoProgress.x;  </span><br><span class=\"line\"><span class=\"built_in\">float</span> max = ms_CollectBundleInfoProgress.y;  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// 显示进度条（初始阶段）  </span></span><br><span class=\"line\">EditorUtility.DisplayProgressBar(  </span><br><span class=\"line\">    <span class=\"string\">$&quot;<span class=\"subst\">&#123;<span class=\"keyword\">nameof</span>(CollectBundle)&#125;</span>&quot;</span>,   </span><br><span class=\"line\"><span class=\"string\">&quot;正在收集资源Bundle信息...&quot;</span>,   </span><br><span class=\"line\">min  </span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"42-然后根据setting的打包规则对bundle进行分类并更新进度条\"><a class=\"anchor\" href=\"#42-然后根据setting的打包规则对bundle进行分类并更新进度条\">#</a> 4.2 然后，根据 setting 的打包规则，对 bundle 进行分类并更新进度条</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">foreach</span> (KeyValuePair&lt;<span class=\"built_in\">string</span>, EResourceType&gt; pair <span class=\"keyword\">in</span> assetDic)  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    index++;  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"built_in\">string</span> assetUrl = pair.Key;           <span class=\"comment\">// 资源路径  </span></span><br><span class=\"line\">    EResourceType type = pair.Value;      <span class=\"comment\">// 资源类型（Direct 或 Reference）  </span></span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 根据 BuildSetting 规则获取该资源对应的 Bundle 名称  </span></span><br><span class=\"line\">    <span class=\"comment\">// 这个函数内部通常会根据路径、文件后缀、配置规则等决定打进哪个包  </span></span><br><span class=\"line\">    <span class=\"built_in\">string</span> bundleName = setting.GetBundleName(assetUrl, type);  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 如果没有匹配到打包规则，则加入未命中列表  </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (bundleName == <span class=\"literal\">null</span>)  </span><br><span class=\"line\">    &#123;        notInRuleList.Add(assetUrl);  </span><br><span class=\"line\">        <span class=\"keyword\">continue</span>;  </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"comment\">// 获取该 bundle 下的资源列表  </span></span><br><span class=\"line\">    List&lt;<span class=\"built_in\">string</span>&gt; list;  </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!bundleDic.TryGetValue(bundleName, <span class=\"keyword\">out</span> list))  </span><br><span class=\"line\">    &#123;        <span class=\"comment\">// 如果该 bundle 还没创建，则新建一个列表  </span></span><br><span class=\"line\">        list = <span class=\"keyword\">new</span> List&lt;<span class=\"built_in\">string</span>&gt;();  </span><br><span class=\"line\">        bundleDic.Add(bundleName, list);  </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"comment\">// 把当前资源路径添加到对应的 bundle 列表中  </span></span><br><span class=\"line\">    list.Add(assetUrl);  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 每隔一部分资源更新一次进度条，避免进度条卡顿  </span></span><br><span class=\"line\">    EditorUtility.DisplayProgressBar(  </span><br><span class=\"line\">        <span class=\"string\">$&quot;<span class=\"subst\">&#123;<span class=\"keyword\">nameof</span>(CollectBundle)&#125;</span>&quot;</span>,   </span><br><span class=\"line\"><span class=\"string\">&quot;正在收集资源Bundle信息...&quot;</span>,  </span><br><span class=\"line\">        min + (max - min) * ((<span class=\"built_in\">float</span>)index / assetDic.Count)  </span><br><span class=\"line\">    );&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"43-如果存在不在打包规则中的文件报错并返回列表\"><a class=\"anchor\" href=\"#43-如果存在不在打包规则中的文件报错并返回列表\">#</a> 4.3 如果存在不在打包规则中的文件，报错并返回列表</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 如果存在未命中规则的资源，报错并停止打包  </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (notInRuleList.Count &gt; <span class=\"number\">0</span>)  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    <span class=\"built_in\">string</span> message = <span class=\"built_in\">string</span>.Empty;  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 拼接所有未命中的资源路径，方便报错查看  </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; notInRuleList.Count; i++)  </span><br><span class=\"line\">    &#123;        message += <span class=\"string\">&#x27;\\n&#x27;</span> + notInRuleList[i];  </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"comment\">// 清除进度条  </span></span><br><span class=\"line\">    EditorUtility.ClearProgressBar();  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 抛出异常提示，阻止继续执行  </span></span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> Exception(<span class=\"string\">$&quot;以下资源未命中任何打包规则：<span class=\"subst\">&#123;message&#125;</span>&quot;</span>);  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"5-生成manifest文件\"><a class=\"anchor\" href=\"#5-生成manifest文件\">#</a> 5. 生成 manifest 文件</h2>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//生成Manifest文件  </span></span><br><span class=\"line\">ms_GenerateManifestProfiler.Start();  </span><br><span class=\"line\">GenerateManifestFile(assetDic,bundleDic,dependencyDic);  </span><br><span class=\"line\">ms_GenerateManifestProfiler.Stop();</span><br></pre></td></tr></table></figure><br>\nManifest 文件就像是打包的一个总帐本。因为打包之后的 AssetBundle 文件都是二进制的，无法直接阅读，所以我们要依靠 Manifest 文件来知道，我们想要某个 prefab 的话，需要加载哪个文件。</p>\n<h3 id=\"51-同样是先加载进度条并生成临时文件夹\"><a class=\"anchor\" href=\"#51-同样是先加载进度条并生成临时文件夹\">#</a> 5.1 同样是，先加载进度条并生成临时文件夹</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">float</span> min = ms_GenerateBuildInfoProgress.x;  </span><br><span class=\"line\"><span class=\"built_in\">float</span> max = ms_GenerateBuildInfoProgress.y;  </span><br><span class=\"line\">EditorUtility.DisplayProgressBar(<span class=\"string\">$&quot;<span class=\"subst\">&#123;<span class=\"keyword\">nameof</span>(GenerateManifestFile)&#125;</span>&quot;</span>, <span class=\"string\">&quot;正在生成打包信息...&quot;</span>, min);  </span><br><span class=\"line\"><span class=\"comment\">//生成临时存放文件的目录  </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (!Directory.Exists(TempPath))  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    Directory.CreateDirectory(TempPath);  </span><br><span class=\"line\">&#125;  </span><br><span class=\"line\"><span class=\"comment\">//资源映射id  </span></span><br><span class=\"line\">Dictionary&lt;<span class=\"built_in\">string</span>,<span class=\"built_in\">ushort</span>&gt; assetIdDic = <span class=\"keyword\">new</span>  Dictionary&lt;<span class=\"built_in\">string</span>,<span class=\"built_in\">ushort</span>&gt;();</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"52-生成资源描述信息\"><a class=\"anchor\" href=\"#52-生成资源描述信息\">#</a> 5.2 生成资源描述信息</h3>\n<p>三个描述信息的 region 其实逻辑大体上都差不多，其实就是生成一个文本文件和一个二进制文件。</p>\n<h4 id=\"521\"><a class=\"anchor\" href=\"#521\">#</a> 5.2.1</h4>\n<p>首先就是检查本地是否存在文件，如果存在，那就覆盖掉<br>\n <figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//删除资源描述文本文件  </span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(File.Exists(ResourcePath_Text))  </span><br><span class=\"line\">    File.Delete(ResourcePath_Text);  </span><br><span class=\"line\"><span class=\"comment\">//删除资源描述二进制文件  </span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(File.Exists(ResourcePath_Binary))  </span><br><span class=\"line\">    File.Delete(ResourcePath_Binary);  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">//写入资源列表  </span></span><br><span class=\"line\">StringBuilder resourceSb = <span class=\"keyword\">new</span> StringBuilder();  </span><br><span class=\"line\">MemoryStream resourceMs = <span class=\"keyword\">new</span> MemoryStream();  </span><br><span class=\"line\">BinaryWriter resourceBw = <span class=\"keyword\">new</span> BinaryWriter(File.Open(ResourcePath_Binary, FileMode.Create));</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"522写入文件\"><a class=\"anchor\" href=\"#522写入文件\">#</a> 5.2.2 写入文件</h4>\n<p>然后，遍历 assetDic，就是存储着资源路径和类型的字典，将内容存入两个文件<br>\n <figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//写入个数  </span></span><br><span class=\"line\">resourceBw.Write((<span class=\"built_in\">ushort</span>)assetDic.Count);  </span><br><span class=\"line\">List&lt;<span class=\"built_in\">string</span>&gt; keys = <span class=\"keyword\">new</span> List&lt;<span class=\"built_in\">string</span>&gt;(assetDic.Keys);  </span><br><span class=\"line\">keys.Sort();  </span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"built_in\">ushort</span> i = <span class=\"number\">0</span>; i &lt; keys.Count; i++)  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    <span class=\"built_in\">string</span> assetUrl = keys[i];  </span><br><span class=\"line\">    assetIdDic.Add(assetUrl,i);  </span><br><span class=\"line\">    resourceSb.AppendLine(<span class=\"string\">$&quot;<span class=\"subst\">&#123;i&#125;</span>\\t<span class=\"subst\">&#123;assetUrl&#125;</span>&quot;</span>);  </span><br><span class=\"line\">    resourceBw.Write(assetUrl);  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"523-最后清除临时区域并记录\"><a class=\"anchor\" href=\"#523-最后清除临时区域并记录\">#</a> 5.2.3 最后，清除临时区域并记录</h4>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">resourceMs.Flush();  <span class=\"comment\">//把内存中的数据刷新</span></span><br><span class=\"line\"><span class=\"built_in\">byte</span>[] buffer = resourceMs.GetBuffer();  <span class=\"comment\">//拿到二进制数据</span></span><br><span class=\"line\">resourceBw.Close();  <span class=\"comment\">//关闭</span></span><br><span class=\"line\"><span class=\"comment\">//写入资源描述文件  </span></span><br><span class=\"line\">File.WriteAllText(ResourcePath_Text, resourceSb.ToString(),Encoding.UTF8);  </span><br><span class=\"line\">File.WriteAllBytes(ResourcePath_Binary, buffer);</span><br></pre></td></tr></table></figure></p>\n",
            "tags": [
                "游戏引擎",
                "unity",
                "unity基础"
            ]
        },
        {
            "id": "http://example.com/2025/11/11/game-engine/unity/AssetBundle/Profiler%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/",
            "url": "http://example.com/2025/11/11/game-engine/unity/AssetBundle/Profiler%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/",
            "title": "Profiler性能分析工具",
            "date_published": "2025-11-10T16:00:00.000Z",
            "content_html": "<h2 id=\"1为什么需要\"><a class=\"anchor\" href=\"#1为什么需要\">#</a> 1. 为什么需要？</h2>\n<p>这个性能工具的作用是，能够让我们自己知道，每个阶段分别耗时多少，并且哪个阶段最慢，用了哪些步骤。</p>\n<h2 id=\"2核心\"><a class=\"anchor\" href=\"#2核心\">#</a> 2. 核心</h2>\n<p>这个轻量级性能分析工具的本质，其实就是一个树形结构的计时器。每个节点都是一个 Profiler 的实例，可以</p>\n<ul>\n<li>记录这段任务的耗时</li>\n<li>记录拥有哪些子节点</li>\n<li>输出统计结果</li>\n</ul>\n<h2 id=\"3-文件逻辑组成\"><a class=\"anchor\" href=\"#3-文件逻辑组成\">#</a> 3. 文件逻辑组成</h2>\n<h3 id=\"31-静态成员\"><a class=\"anchor\" href=\"#31-静态成员\">#</a> 3.1 静态成员</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 全局计时器（Stopwatch 是高精度计时器）  </span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> Stopwatch ms_Stopwatch = Stopwatch.StartNew();  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// 用于生成最终的文本结果  </span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> StringBuilder ms_StringBuilder = <span class=\"keyword\">new</span> StringBuilder();  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// 用于遍历输出树形结构的栈  </span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> List&lt;Profiler&gt; ms_Stack = <span class=\"keyword\">new</span> List&lt;Profiler&gt;();</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"32-实例成员\"><a class=\"anchor\" href=\"#32-实例成员\">#</a> 3.2 实例成员</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> List&lt;Profiler&gt; m_children;  <span class=\"comment\">// 子 Profiler，用于嵌套分析  </span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"built_in\">string</span> m_Name;              <span class=\"comment\">// 当前 Profiler 名称  </span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"built_in\">int</span> m_Level;                <span class=\"comment\">// 层级深度（根为 0）  </span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"built_in\">long</span> m_Timestamp;           <span class=\"comment\">// 启动时刻的时间戳  </span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"built_in\">long</span> m_Time;                <span class=\"comment\">// 累积耗时（tick）  </span></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"built_in\">int</span> m_Count;                <span class=\"comment\">// Start/Stop 次数（调用次数）</span></span><br></pre></td></tr></table></figure><br>\n 其实可以简单理解为，这些字段就是 “树节点 + 计时器” 的组合，即每个节点都拥有自己的计时，并且拥有各个的子节点。</p>\n<h2 id=\"4主要方法解析\"><a class=\"anchor\" href=\"#4主要方法解析\">#</a> 4. 主要方法解析</h2>\n<h3 id=\"41-构造函数\"><a class=\"anchor\" href=\"#41-构造函数\">#</a> 4.1 构造函数</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Profiler</span>(<span class=\"params\"><span class=\"built_in\">string</span> name</span>)</span>  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    m_children = <span class=\"literal\">null</span>;  </span><br><span class=\"line\">    m_Name = name;  </span><br><span class=\"line\">    m_Level = <span class=\"number\">0</span>;  </span><br><span class=\"line\">    m_Timestamp = <span class=\"number\">-1</span>;  </span><br><span class=\"line\">    m_Time = <span class=\"number\">0</span>;  </span><br><span class=\"line\">    m_Count = <span class=\"number\">0</span>;  </span><br><span class=\"line\">&#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 创建子节点（内部使用）  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"title\">Profiler</span>(<span class=\"params\"><span class=\"built_in\">string</span> name, <span class=\"built_in\">int</span> level</span>) : <span class=\"title\">this</span>(<span class=\"params\">name</span>)</span>  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    m_Level = level;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br>\n 构造函数用于创建新的节点，并且在下面为了区分子节点，重载了一个方法</p>\n<h3 id=\"42-createchild\"><a class=\"anchor\" href=\"#42-createchild\">#</a> 4.2 CreateChild</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 创建子 Profiler（常用于分阶段性能统计）  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Profiler <span class=\"title\">CreateChild</span>(<span class=\"params\"><span class=\"built_in\">string</span> name</span>)</span>  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (m_children == <span class=\"literal\">null</span>)  </span><br><span class=\"line\">    &#123;        m_children = <span class=\"keyword\">new</span> List&lt;Profiler&gt;();  </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    Profiler profiler = <span class=\"keyword\">new</span> Profiler(name, m_Level + <span class=\"number\">1</span>);  </span><br><span class=\"line\">    m_children.Add(profiler);  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> profiler;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"43-计时器核心操作\"><a class=\"anchor\" href=\"#43-计时器核心操作\">#</a> 4.3 计时器核心操作</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 重置当前及子节点的统计数据  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Reset</span>()</span>  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    m_Timestamp = <span class=\"number\">-1</span>;  </span><br><span class=\"line\">    m_Time = <span class=\"number\">0</span>;  </span><br><span class=\"line\">    m_Count = <span class=\"number\">0</span>;  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (m_children == <span class=\"literal\">null</span>)  </span><br><span class=\"line\">        <span class=\"keyword\">return</span>;  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 递归重置所有子节点  </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; m_children.Count; ++i)  </span><br><span class=\"line\">    &#123;        m_children[i].Reset();  </span><br><span class=\"line\">    &#125;&#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 开始计时（Start）  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Start</span>()</span>  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// 防止重复开始  </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (m_Timestamp != <span class=\"number\">-1</span>)  </span><br><span class=\"line\">    &#123;        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> Exception(<span class=\"string\">$&quot;<span class=\"subst\">&#123;<span class=\"keyword\">nameof</span>(Profiler)&#125;</span> <span class=\"subst\">&#123;<span class=\"keyword\">nameof</span>(Start)&#125;</span> error, repeat start, name: <span class=\"subst\">&#123;m_Name&#125;</span>&quot;</span>);  </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"comment\">// 记录当前计时器刻度  </span></span><br><span class=\"line\">    m_Timestamp = ms_Stopwatch.ElapsedTicks;  </span><br><span class=\"line\">&#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 重置后重新开始计时  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Restart</span>()</span>  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    Reset();  </span><br><span class=\"line\">    Start();  </span><br><span class=\"line\">&#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 停止计时（Stop）  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Stop</span>()</span>  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    <span class=\"comment\">// 防止未开始就停止  </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (m_Timestamp == <span class=\"number\">-1</span>)  </span><br><span class=\"line\">    &#123;        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> Exception(<span class=\"string\">$&quot;<span class=\"subst\">&#123;<span class=\"keyword\">nameof</span>(Profiler)&#125;</span> <span class=\"subst\">&#123;<span class=\"keyword\">nameof</span>(Stop)&#125;</span> error, repeat stop, name: <span class=\"subst\">&#123;m_Name&#125;</span>&quot;</span>);  </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"comment\">// 计算耗时（当前时间 - 启动时间）  </span></span><br><span class=\"line\">    m_Time += ms_Stopwatch.ElapsedTicks - m_Timestamp;  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 记录调用次数  </span></span><br><span class=\"line\">    m_Count += <span class=\"number\">1</span>;  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 重置时间戳，防止误用  </span></span><br><span class=\"line\">    m_Timestamp = <span class=\"number\">-1</span>;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"44-核心格式化操作\"><a class=\"anchor\" href=\"#44-核心格式化操作\">#</a> 4.4 核心：格式化操作</h3>\n<p><figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 以树形结构格式化当前节点及其统计信息。  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 内部使用 StringBuilder 构造结果。  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">Format</span>()</span>  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    ms_StringBuilder.AppendLine();  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 根据层级添加缩进符号  </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = <span class=\"number\">0</span>; i &lt; m_Level; ++i)  </span><br><span class=\"line\">    &#123;        ms_StringBuilder.Append(i &lt; m_Level - <span class=\"number\">1</span> ? <span class=\"string\">&quot;|  &quot;</span> : <span class=\"string\">&quot;|--&quot;</span>);  </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    ms_StringBuilder.Append(m_Name);  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (m_Count &lt;= <span class=\"number\">0</span>)  </span><br><span class=\"line\">        <span class=\"keyword\">return</span>;  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 输出统计结果  </span></span><br><span class=\"line\">    ms_StringBuilder.Append(<span class=\"string\">&quot; [&quot;</span>);  </span><br><span class=\"line\">    ms_StringBuilder.Append(<span class=\"string\">&quot;Count: &quot;</span>);  </span><br><span class=\"line\">    ms_StringBuilder.Append(m_Count);  </span><br><span class=\"line\">    ms_StringBuilder.Append(<span class=\"string\">&quot;, Time: &quot;</span>);  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 转换 tick 为毫秒、秒、分钟  </span></span><br><span class=\"line\">    <span class=\"built_in\">float</span> ms = (<span class=\"built_in\">float</span>)m_Time / TimeSpan.TicksPerMillisecond;  </span><br><span class=\"line\">    <span class=\"built_in\">float</span> sec = (<span class=\"built_in\">float</span>)m_Time / TimeSpan.TicksPerSecond;  </span><br><span class=\"line\">    <span class=\"built_in\">float</span> min = (<span class=\"built_in\">float</span>)m_Time / TimeSpan.TicksPerMinute;  </span><br><span class=\"line\">  </span><br><span class=\"line\">    ms_StringBuilder.Append(<span class=\"string\">$&quot;<span class=\"subst\">&#123;ms:F2&#125;</span> 毫秒,  &quot;</span>);  </span><br><span class=\"line\">    ms_StringBuilder.Append(<span class=\"string\">$&quot;<span class=\"subst\">&#123;sec:F2&#125;</span> 秒,  &quot;</span>);  </span><br><span class=\"line\">    ms_StringBuilder.Append(<span class=\"string\">$&quot;<span class=\"subst\">&#123;min:F4&#125;</span> 分钟&quot;</span>);  </span><br><span class=\"line\">    ms_StringBuilder.Append(<span class=\"string\">&quot;]&quot;</span>);  </span><br><span class=\"line\">&#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">// --------------------------【文本输出】--------------------------  </span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 将当前 Profiler（含子节点）格式化成文本。  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 用于 Debug.Log 输出。  </span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span>  </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"built_in\">string</span> <span class=\"title\">ToString</span>()</span>  </span><br><span class=\"line\">&#123;  </span><br><span class=\"line\">    ms_StringBuilder.Clear();  </span><br><span class=\"line\">    ms_Stack.Clear();  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"comment\">// 使用栈进行深度遍历  </span></span><br><span class=\"line\">    ms_Stack.Add(<span class=\"keyword\">this</span>);  </span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">while</span> (ms_Stack.Count &gt; <span class=\"number\">0</span>)  </span><br><span class=\"line\">    &#123;        <span class=\"built_in\">int</span> index = ms_Stack.Count - <span class=\"number\">1</span>;  </span><br><span class=\"line\">        Profiler profiler = ms_Stack[index];  </span><br><span class=\"line\">        ms_Stack.RemoveAt(index);  </span><br><span class=\"line\">  </span><br><span class=\"line\">        profiler.Format();  </span><br><span class=\"line\">  </span><br><span class=\"line\">        <span class=\"comment\">// 如果有子节点，则按逆序入栈  </span></span><br><span class=\"line\">        List&lt;Profiler&gt; children = profiler.m_children;  </span><br><span class=\"line\">        <span class=\"keyword\">if</span> (children == <span class=\"literal\">null</span>)  </span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;  </span><br><span class=\"line\">  </span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"built_in\">int</span> i = children.Count - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; --i)  </span><br><span class=\"line\">        &#123;            ms_Stack.Add(children[i]);  </span><br><span class=\"line\">        &#125;    &#125;  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ms_StringBuilder.ToString();  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n",
            "tags": [
                "游戏引擎",
                "unity",
                "unity基础"
            ]
        },
        {
            "id": "http://example.com/2025/07/24/computer/Lua/Lua%E5%9F%BA%E7%A1%80/",
            "url": "http://example.com/2025/07/24/computer/Lua/Lua%E5%9F%BA%E7%A1%80/",
            "title": "",
            "date_published": "2025-07-24T05:51:27.751Z",
            "content_html": "",
            "tags": []
        },
        {
            "id": "http://example.com/2025/07/11/computer/Algorithm/%E7%AE%97%E6%B3%95%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/",
            "url": "http://example.com/2025/07/11/computer/Algorithm/%E7%AE%97%E6%B3%95%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/",
            "title": "",
            "date_published": "2025-07-11T08:55:51.511Z",
            "content_html": "<h3 id=\"数组相关\"><a class=\"anchor\" href=\"#数组相关\">#</a> 数组相关</h3>\n<p>数组并不会有太复杂的题目来考，所以大多只是将想法转换成代码；<br>\n在数组这块会有一些常用的解题方式，如双指针法，滑动窗口 (双指针的一种应用)，前缀和解决时间复杂度问题，即创建一个新的数组用于存储对应下标前面几个元素的和；二分查找等</p>\n<h4 id=\"vector与普通数组的使用区别\"><a class=\"anchor\" href=\"#vector与普通数组的使用区别\">#</a> vector 与普通数组的使用区别</h4>\n<p>只有在一些低性能场景下，数组对比哈希表和 vector 会有一定的性能优势，会使用数组，其他大多数场景都会更加推荐使用 vector<br>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//初始化</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">nums</span><span class=\"params\">(<span class=\"number\">5</span>,<span class=\"number\">0</span>)</span></span>; <span class=\"comment\">//5个元素，初始化为0</span></span><br><span class=\"line\">nums.<span class=\"built_in\">push_back</span>(<span class=\"number\">19</span>); <span class=\"comment\">//添加元素</span></span><br><span class=\"line\">nums.<span class=\"built_in\">pop_back</span>(); <span class=\"comment\">//删除元素</span></span><br><span class=\"line\">nums.<span class=\"built_in\">insert</span>(nums.<span class=\"built_in\">begin</span>()<span class=\"number\">+2</span>,<span class=\"number\">99</span>); <span class=\"comment\">//插入元素</span></span><br><span class=\"line\">nums.<span class=\"built_in\">erase</span>(nums.<span class=\"built_in\">begin</span>()<span class=\"number\">+2</span>);<span class=\"comment\">//删除指定位置</span></span><br><span class=\"line\">nums.<span class=\"built_in\">clear</span>(); <span class=\"comment\">//清空</span></span><br><span class=\"line\"><span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(),nums.<span class=\"built_in\">end</span>());</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"链表\"><a class=\"anchor\" href=\"#链表\">#</a> 链表</h3>\n<p>链表最重要的一点就是，我们要记住，大多数题目都有可能会删除头节点的可能性，所以我们需要创建一个虚拟的头节点以避免这个问题。</p>\n<h3 id=\"哈希表\"><a class=\"anchor\" href=\"#哈希表\">#</a> 哈希表</h3>\n<p>常用的操作方式<br>\n以最常用的 unordered_map 和 unordered_set 为例<br>\n <figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//初始化</span></span><br><span class=\"line\">unordered_map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; map;</span><br><span class=\"line\">unordered_set&lt;<span class=\"type\">int</span>&gt; set;</span><br><span class=\"line\"><span class=\"comment\">//插入元素</span></span><br><span class=\"line\">map[<span class=\"number\">10</span>] = <span class=\"number\">5</span>;</span><br><span class=\"line\">set.<span class=\"built_in\">insert</span>(<span class=\"number\">10</span>);</span><br><span class=\"line\"><span class=\"comment\">//删除元素</span></span><br><span class=\"line\">map.<span class=\"built_in\">erase</span>(<span class=\"number\">10</span>);</span><br><span class=\"line\">set.</span><br><span class=\"line\"><span class=\"comment\">//获取元素||元素是否存在</span></span><br><span class=\"line\"><span class=\"type\">int</span> val = map.<span class=\"built_in\">find</span>(<span class=\"number\">10</span>);<span class=\"comment\">//如果不存在，则此值为map.end()</span></span><br><span class=\"line\">key = val-&gt;first;</span><br><span class=\"line\">value = val-&gt;second;</span><br><span class=\"line\">set同上</span><br><span class=\"line\"><span class=\"comment\">//遍历</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span>&amp; kv : mp) → kv.first, kv.<span class=\"function\">second</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">for</span><span class=\"params\">(<span class=\"type\">int</span> k:set)</span></span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"字符串\"><a class=\"anchor\" href=\"#字符串\">#</a> 字符串</h3>\n<p>在使用和学习字符串的时候，尽量不要去使用字符串的库函数，因为字符串的库函数我们并不一定记得住他的时间复杂度，而面试的时候如果被问到就会很显然的露怯<br>\n解题的时候，类似于反转类型的题目可以使用双指针法，而类似于字串的题目则可以考虑使用 KMP 来解决，而 KMP 掌握的不是很扎实，所以以后还需要回头来看。</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2025/06/17/computer/StochasticAlgorithm/lec12%20%E4%B8%93%E5%AE%B6%E3%80%82%E3%80%82/",
            "url": "http://example.com/2025/06/17/computer/StochasticAlgorithm/lec12%20%E4%B8%93%E5%AE%B6%E3%80%82%E3%80%82/",
            "title": "lec9",
            "date_published": "2025-06-17T06:03:58.127Z",
            "content_html": "<h1 id=\"lecture-9-streaming-and-sketching-ii-内容总结\"><a class=\"anchor\" href=\"#lecture-9-streaming-and-sketching-ii-内容总结\">#</a> Lecture 9: Streaming and Sketching II - 内容总结</h1>\n<h2 id=\"part1-引入流式算法以及解决方案\"><a class=\"anchor\" href=\"#part1-引入流式算法以及解决方案\">#</a> Part1 引入流式算法以及解决方案</h2>\n<h3 id=\"课程引入流式算法的挑战\"><a class=\"anchor\" href=\"#课程引入流式算法的挑战\">#</a> 🧩 课程引入：流式算法的挑战</h3>\n<ul>\n<li>数据以流的形式连续到达，不能全部存储。</li>\n<li>算法  <code>A</code>  读取前一部分数据后输出结果  <code>21.5</code> 。</li>\n<li>结果还没来得及用，更多的数据又到达了。</li>\n<li>再运行  <code>A</code>  得到新的结果  <code>18.1</code> 。</li>\n<li><strong>关键问题：</strong> 如何把两个结果合并成一个整体答案？</li>\n</ul>\n<hr>\n<h3 id=\"引入-sketching-的概念\"><a class=\"anchor\" href=\"#引入-sketching-的概念\">#</a> 🧠 引入 Sketching 的概念</h3>\n<ul>\n<li>对每段数据  <code>σ</code> ，算法  <code>A</code>  生成一个摘要： <code>S(σ)</code> ，称为 <strong>sketch</strong>。</li>\n<li>特性：\n<ul>\n<li><code>S(σ)</code>  是对数据的压缩表示；</li>\n<li>可以从  <code>S(σ)</code>  还原出我们要解决问题的近似答案；</li>\n<li>不同问题需要不同的 sketch 设计（problem-dependent）。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h4 id=\"组合-sketch-的想法\"><a class=\"anchor\" href=\"#组合-sketch-的想法\">#</a> 🔗 组合 Sketch 的想法</h4>\n<ul>\n<li>若有两个数据段  <code>σ₁</code>  和  <code>σ₂</code> ，分别生成 sketch：\n<ul>\n<li><code>S(σ₁)</code>  和  <code>S(σ₂)</code></li>\n</ul>\n</li>\n<li>希望能通过某个函数  <code>f</code>  合并它们：\n<ul>\n<li><code>f(S(σ₁), S(σ₂)) ≈ S(σ₁ ∘ σ₂)</code></li>\n</ul>\n</li>\n<li>这样我们就不需要重新处理原始数据，而是<strong>只用合并 sketch</strong>！</li>\n</ul>\n<hr>\n<h4 id=\"更进一步线性-sketchinglinear-sketch\"><a class=\"anchor\" href=\"#更进一步线性-sketchinglinear-sketch\">#</a> 💪 更进一步：线性 Sketching（Linear Sketch）</h4>\n<ul>\n<li>特别理想的情况是：<strong>sketch 之间可以直接加法合并</strong>：\n<ul>\n<li><code>S(σ₁ ∘ σ₂) = S(σ₁) + S(σ₂)</code></li>\n</ul>\n</li>\n<li>图示用《龙珠》角色合体的方式表达这种 “强强联合” 的能力。</li>\n</ul>\n<hr>\n<h4 id=\"数学表示\"><a class=\"anchor\" href=\"#数学表示\">#</a> 🧮 数学表示</h4>\n<ul>\n<li>Sketch 函数  <code>S</code>  可视为从高维空间  <code>ℝⁿ</code>  到低维空间  <code>ℝᵏ</code>  的变换：</li>\n<li>S: ℝⁿ → ℝᵏ where k ≪ n</li>\n<li>Sketch 通常是向量，因此 “加法” 指的是向量加法。</li>\n<li><code>S</code>  是随机函数，不依赖于原始输入的存储。</li>\n<li>合并两个 sketch 后，你仍可以从中获取目标问题的近似答案。</li>\n<li>即通过 s 函数将 n 进行降维到 k，我们不需要考虑原始的数据而只需要考虑 k 的数据，压力会小得多。</li>\n</ul>\n<hr>\n<h3 id=\"小结\"><a class=\"anchor\" href=\"#小结\">#</a> ✅ 小结</h3>\n<ul>\n<li><strong>流式处理</strong>适用于数据量大、内存有限、只能单次扫描的场景。</li>\n<li><strong>Sketch</strong> 是一种压缩表示，保留关键信息。</li>\n<li><strong>线性 sketch</strong> 允许我们把多个 sketch 相加，从而处理整个数据流。</li>\n<li>这种方法适合分布式处理、实时系统、高效内存使用等场景。</li>\n</ul>\n<h2 id=\"misra-gries与sketch\"><a class=\"anchor\" href=\"#misra-gries与sketch\">#</a> 📊 Misra-Gries 与 sketch</h2>\n<h3 id=\"1-misra-gries\"><a class=\"anchor\" href=\"#1-misra-gries\">#</a> 1. Misra-Gries</h3>\n<h4 id=\"11-misra-gries-是什么\"><a class=\"anchor\" href=\"#11-misra-gries-是什么\">#</a> 🌟 1.1 Misra-Gries 是什么？</h4>\n<p>Misra-Gries 是一个 <strong>流式处理算法</strong>，用于在 <strong>内存受限</strong> 的情况下，找出数据流中出现频率较高的元素（Heavy Hitters）。</p>\n<hr>\n<h4 id=\"12-要解决的问题\"><a class=\"anchor\" href=\"#12-要解决的问题\">#</a> 🧩 1.2 要解决的问题</h4>\n<blockquote>\n<p>给定一个数据流，找出所有出现次数大于某个阈值（比如 10%）的元素。</p>\n</blockquote>\n<ul>\n<li>不保存整个数据流；</li>\n<li>只扫描一次；</li>\n<li>使用极少的内存；</li>\n<li>返回一个 “可能频繁” 的元素列表（近似）。</li>\n</ul>\n<hr>\n<h4 id=\"️-13-算法流程输入参数允许误差-ε\"><a class=\"anchor\" href=\"#️-13-算法流程输入参数允许误差-ε\">#</a> 🛠️ 1.3 算法流程（输入参数：允许误差 ε）</h4>\n<p>使用一个最多存  <code>k = ⌊1/ε⌋</code>  个元素及其计数的哈希表：</p>\n<h5 id=\"步骤\"><a class=\"anchor\" href=\"#步骤\">#</a> 步骤：</h5>\n<ol>\n<li>初始化一个空表  <code>C</code> （最多  <code>k-1</code>  个元素）；</li>\n<li>对于数据流中的每个元素  <code>x</code> ：\n<ul>\n<li>如果  <code>x ∈ C</code> ：将其计数加 1；</li>\n<li>如果  <code>x ∉ C</code>  且表未满：将  <code>x</code>  加入表中，计数设为 1；</li>\n<li>如果  <code>x ∉ C</code>  且表已满：将所有计数器减 1，删除计数为 0 的元素。</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h4 id=\"14-举个例子\"><a class=\"anchor\" href=\"#14-举个例子\">#</a> 💡 1.4 举个例子</h4>\n<p>数据流：  A, B, A, C, A, B, D, A, C, C, C, C, B, ...<br>\n 使用 Misra-Gries，可能发现：<br>\nA: 频繁<br>\n C: 频繁<br>\n B: 可能<br>\n D: 被忽略</p>\n<hr>\n<h4 id=\"15-准确性保证误差控制\"><a class=\"anchor\" href=\"#15-准确性保证误差控制\">#</a> 📏 1.5 准确性保证（误差控制）</h4>\n<ul>\n<li>算法输出一个近似频率向量  <code>𝑓̂</code> ；</li>\n<li>满足误差上界：‖𝑓 - 𝑓̂‖_∞ ≤ ε ‖𝑓‖₁</li>\n<li>即最大误差不超过总出现次数的 ε 倍。</li>\n</ul>\n<hr>\n<h4 id=\"16-空间与时间复杂度\"><a class=\"anchor\" href=\"#16-空间与时间复杂度\">#</a> 📦 1.6 空间与时间复杂度</h4>\n<table>\n<thead>\n<tr>\n<th>指标</th>\n<th>复杂度</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>时间复杂度</td>\n<td>每个元素  <code>O(1)</code></td>\n</tr>\n<tr>\n<td>空间复杂度</td>\n<td><code>O(1/ε)</code>  个计数器</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h4 id=\"17-特点总结\"><a class=\"anchor\" href=\"#17-特点总结\">#</a> 🔁 1.7 特点总结</h4>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>✅ 单次扫描</td>\n<td>只遍历数据一次</td>\n</tr>\n<tr>\n<td>✅ 确定性</td>\n<td>非随机，输出固定</td>\n</tr>\n<tr>\n<td>✅ 空间效率高</td>\n<td>跟踪少量元素就能估计全局</td>\n</tr>\n<tr>\n<td>✅ 控误差</td>\n<td>误差最多 ε × 总数量</td>\n</tr>\n<tr>\n<td>❌ 不可合并</td>\n<td>不是线性 sketch，不能合并多个子数据流的结果</td>\n</tr>\n<tr>\n<td>🧾 适用模型</td>\n<td>cash register model（只加不减）</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h4 id=\"18-用途\"><a class=\"anchor\" href=\"#18-用途\">#</a> 🧠 1.8 用途</h4>\n<ul>\n<li>找最常见的 IP 地址</li>\n<li>检测最常点击的链接</li>\n<li>实时舆情监控</li>\n<li>高频交易流分析</li>\n</ul>\n<h3 id=\"2-misra-gries-与-heavy-hitters-幻灯片总结\"><a class=\"anchor\" href=\"#2-misra-gries-与-heavy-hitters-幻灯片总结\">#</a> 2. 📘 Misra-Gries 与 Heavy Hitters - 幻灯片总结</h3>\n<hr>\n<h4 id=\"第-1-页misra-gries-算法回顾\"><a class=\"anchor\" href=\"#第-1-页misra-gries-算法回顾\">#</a> 第 1 页：Misra-Gries 算法回顾</h4>\n<h5 id=\"主要内容\"><a class=\"anchor\" href=\"#主要内容\">#</a> 📌 主要内容</h5>\n<ol>\n<li>\n<p><strong>Misra-Gries 是一个 sketching 算法</strong></p>\n<ul>\n<li>\n<p>它可以近似记录频繁元素的信息；</p>\n</li>\n<li>\n<p>但注意，不是 “线性” sketch（见第 3 点）。</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>不是线性 sketching 算法</strong></p>\n<ul>\n<li>\n<p>意思是：不能把两个 sketch（比如两段数据流的 MG 结果）直接合并为整体结果；</p>\n</li>\n<li>\n<p>限制了它在分布式或合并式处理中的应用。</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>输出误差保证</strong></p>\n<ul>\n<li>\n<p>输出一个估计频率向量  <code>𝜓 ∈ ℝⁿ</code> ，满足：</p>\n<p><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">‖𝜓 - 𝜓‖∞ ≤ ε‖𝜓‖₁</span><br></pre></td></tr></table></figure></p>\n<p>其中：</p>\n<ul>\n<li>\n<p>‖𝜓‖₁：数据流中所有元素的总出现次数；</p>\n</li>\n<li>\n<p>‖・‖∞：最大元素误差；</p>\n</li>\n<li>\n<p>ε：误差容忍度；</p>\n</li>\n</ul>\n</li>\n<li>\n<p>这是在 <strong>cash register model</strong> 下成立的（只加不减）。</p>\n</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h5 id=\"左下角范数符号说明\"><a class=\"anchor\" href=\"#左下角范数符号说明\">#</a> 🧾 左下角范数符号说明：</h5>\n<ul>\n<li>\n<p><code>‖x‖∞ = max |xᵢ|</code> ：最大值范数；</p>\n</li>\n<li>\n<p><code>‖x‖₁ = ∑ |xᵢ|</code> ：L1 范数（总和）；</p>\n</li>\n</ul>\n<hr>\n<h4 id=\"第-2-页heavy-hitters-中的范数-l1-l2-l-等\"><a class=\"anchor\" href=\"#第-2-页heavy-hitters-中的范数-l1-l2-l-等\">#</a> 第 2 页：Heavy Hitters 中的范数 ℓ₁, ℓ₂, ℓ∞ 等</h4>\n<h5 id=\"不同范数的作用\"><a class=\"anchor\" href=\"#不同范数的作用\">#</a> 📌 不同范数的作用</h5>\n<ul>\n<li>\n<p>ℓₚ范数定义：</p>\n<p><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">‖𝜓‖ₚ = ( ∑ |fᵢ|ₚ )^(1/p)</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<h5 id=\"重点范数\"><a class=\"anchor\" href=\"#重点范数\">#</a> ✨ 重点范数：</h5>\n<table>\n<thead>\n<tr>\n<th>符号</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>‖𝜓‖₀</td>\n<td>非零元素个数（等价于不同元素数）</td>\n</tr>\n<tr>\n<td>‖𝜓‖₁</td>\n<td>所有元素频率的总和（数据流总长度）</td>\n</tr>\n<tr>\n<td>‖𝜓‖₂</td>\n<td>衡量数据流的 “方差”（振荡性）</td>\n</tr>\n<tr>\n<td>‖𝜓‖∞</td>\n<td>最大元素的频率</td>\n</tr>\n</tbody>\n</table>\n<p>具体相关的概念在随机算法基础文章中有记录</p>\n<ul>\n<li>\n<p>常用事实：</p>\n<p><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">‖𝜓‖∞ ≤ ‖𝜓‖₂ ≤ ‖𝜓‖₁</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<h5 id=\"为什么重要\"><a class=\"anchor\" href=\"#为什么重要\">#</a> 💡 为什么重要？</h5>\n<ul>\n<li>\n<p>有些算法提供  <code>ε\\2016𝜓\\2016₂</code>  误差控制；</p>\n</li>\n<li>\n<p>而  <code>ε\\2016𝜓\\2016₁</code>  的误差界限更宽松，因此 ℓ₂ 保证更强；</p>\n</li>\n<li>\n<p>选择不同 sketch 技术时，通常根据你希望控制的范数来决定使用哪种算法。</p>\n</li>\n</ul>\n<hr>\n<h4 id=\"轻微推广generalization\"><a class=\"anchor\" href=\"#轻微推广generalization\">#</a> 🔄 轻微推广（Generalization）</h4>\n<p>讲的是如何将 sketch 技术用于稍微复杂的数据结构，比如：</p>\n<ul>\n<li>\n<p>输入是 (element, count) 对；</p>\n</li>\n<li>\n<p>最终可以保证：</p>\n<p><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">‖𝜓‖₂ ≤ m × B</span><br></pre></td></tr></table></figure></p>\n<p>其中：</p>\n<ul>\n<li>\n<p><code>m</code>  是不同元素数量；</p>\n</li>\n<li>\n<p><code>B</code>  是最大计数的大小。</p>\n</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "计算机科学",
                "随机算法"
            ]
        },
        {
            "id": "http://example.com/2025/06/17/computer/StochasticAlgorithm/lec9%20-%20%E5%89%AF%E6%9C%AC/",
            "url": "http://example.com/2025/06/17/computer/StochasticAlgorithm/lec9%20-%20%E5%89%AF%E6%9C%AC/",
            "title": "lec9",
            "date_published": "2025-06-17T06:03:57.228Z",
            "content_html": "<h1 id=\"lecture-9-streaming-and-sketching-ii-内容总结\"><a class=\"anchor\" href=\"#lecture-9-streaming-and-sketching-ii-内容总结\">#</a> Lecture 9: Streaming and Sketching II - 内容总结</h1>\n<h2 id=\"part1-引入流式算法以及解决方案\"><a class=\"anchor\" href=\"#part1-引入流式算法以及解决方案\">#</a> Part1 引入流式算法以及解决方案</h2>\n<h3 id=\"课程引入流式算法的挑战\"><a class=\"anchor\" href=\"#课程引入流式算法的挑战\">#</a> 🧩 课程引入：流式算法的挑战</h3>\n<ul>\n<li>数据以流的形式连续到达，不能全部存储。</li>\n<li>算法  <code>A</code>  读取前一部分数据后输出结果  <code>21.5</code> 。</li>\n<li>结果还没来得及用，更多的数据又到达了。</li>\n<li>再运行  <code>A</code>  得到新的结果  <code>18.1</code> 。</li>\n<li><strong>关键问题：</strong> 如何把两个结果合并成一个整体答案？</li>\n</ul>\n<hr>\n<h3 id=\"引入-sketching-的概念\"><a class=\"anchor\" href=\"#引入-sketching-的概念\">#</a> 🧠 引入 Sketching 的概念</h3>\n<ul>\n<li>对每段数据  <code>σ</code> ，算法  <code>A</code>  生成一个摘要： <code>S(σ)</code> ，称为 <strong>sketch</strong>。</li>\n<li>特性：\n<ul>\n<li><code>S(σ)</code>  是对数据的压缩表示；</li>\n<li>可以从  <code>S(σ)</code>  还原出我们要解决问题的近似答案；</li>\n<li>不同问题需要不同的 sketch 设计（problem-dependent）。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h4 id=\"组合-sketch-的想法\"><a class=\"anchor\" href=\"#组合-sketch-的想法\">#</a> 🔗 组合 Sketch 的想法</h4>\n<ul>\n<li>若有两个数据段  <code>σ₁</code>  和  <code>σ₂</code> ，分别生成 sketch：\n<ul>\n<li><code>S(σ₁)</code>  和  <code>S(σ₂)</code></li>\n</ul>\n</li>\n<li>希望能通过某个函数  <code>f</code>  合并它们：\n<ul>\n<li><code>f(S(σ₁), S(σ₂)) ≈ S(σ₁ ∘ σ₂)</code></li>\n</ul>\n</li>\n<li>这样我们就不需要重新处理原始数据，而是<strong>只用合并 sketch</strong>！</li>\n</ul>\n<hr>\n<h4 id=\"更进一步线性-sketchinglinear-sketch\"><a class=\"anchor\" href=\"#更进一步线性-sketchinglinear-sketch\">#</a> 💪 更进一步：线性 Sketching（Linear Sketch）</h4>\n<ul>\n<li>特别理想的情况是：<strong>sketch 之间可以直接加法合并</strong>：\n<ul>\n<li><code>S(σ₁ ∘ σ₂) = S(σ₁) + S(σ₂)</code></li>\n</ul>\n</li>\n<li>图示用《龙珠》角色合体的方式表达这种 “强强联合” 的能力。</li>\n</ul>\n<hr>\n<h4 id=\"数学表示\"><a class=\"anchor\" href=\"#数学表示\">#</a> 🧮 数学表示</h4>\n<ul>\n<li>Sketch 函数  <code>S</code>  可视为从高维空间  <code>ℝⁿ</code>  到低维空间  <code>ℝᵏ</code>  的变换：</li>\n<li>S: ℝⁿ → ℝᵏ where k ≪ n</li>\n<li>Sketch 通常是向量，因此 “加法” 指的是向量加法。</li>\n<li><code>S</code>  是随机函数，不依赖于原始输入的存储。</li>\n<li>合并两个 sketch 后，你仍可以从中获取目标问题的近似答案。</li>\n<li>即通过 s 函数将 n 进行降维到 k，我们不需要考虑原始的数据而只需要考虑 k 的数据，压力会小得多。</li>\n</ul>\n<hr>\n<h3 id=\"小结\"><a class=\"anchor\" href=\"#小结\">#</a> ✅ 小结</h3>\n<ul>\n<li><strong>流式处理</strong>适用于数据量大、内存有限、只能单次扫描的场景。</li>\n<li><strong>Sketch</strong> 是一种压缩表示，保留关键信息。</li>\n<li><strong>线性 sketch</strong> 允许我们把多个 sketch 相加，从而处理整个数据流。</li>\n<li>这种方法适合分布式处理、实时系统、高效内存使用等场景。</li>\n</ul>\n<h2 id=\"misra-gries与sketch\"><a class=\"anchor\" href=\"#misra-gries与sketch\">#</a> 📊 Misra-Gries 与 sketch</h2>\n<h3 id=\"1-misra-gries\"><a class=\"anchor\" href=\"#1-misra-gries\">#</a> 1. Misra-Gries</h3>\n<h4 id=\"11-misra-gries-是什么\"><a class=\"anchor\" href=\"#11-misra-gries-是什么\">#</a> 🌟 1.1 Misra-Gries 是什么？</h4>\n<p>Misra-Gries 是一个 <strong>流式处理算法</strong>，用于在 <strong>内存受限</strong> 的情况下，找出数据流中出现频率较高的元素（Heavy Hitters）。</p>\n<hr>\n<h4 id=\"12-要解决的问题\"><a class=\"anchor\" href=\"#12-要解决的问题\">#</a> 🧩 1.2 要解决的问题</h4>\n<blockquote>\n<p>给定一个数据流，找出所有出现次数大于某个阈值（比如 10%）的元素。</p>\n</blockquote>\n<ul>\n<li>不保存整个数据流；</li>\n<li>只扫描一次；</li>\n<li>使用极少的内存；</li>\n<li>返回一个 “可能频繁” 的元素列表（近似）。</li>\n</ul>\n<hr>\n<h4 id=\"️-13-算法流程输入参数允许误差-ε\"><a class=\"anchor\" href=\"#️-13-算法流程输入参数允许误差-ε\">#</a> 🛠️ 1.3 算法流程（输入参数：允许误差 ε）</h4>\n<p>使用一个最多存  <code>k = ⌊1/ε⌋</code>  个元素及其计数的哈希表：</p>\n<h5 id=\"步骤\"><a class=\"anchor\" href=\"#步骤\">#</a> 步骤：</h5>\n<ol>\n<li>初始化一个空表  <code>C</code> （最多  <code>k-1</code>  个元素）；</li>\n<li>对于数据流中的每个元素  <code>x</code> ：\n<ul>\n<li>如果  <code>x ∈ C</code> ：将其计数加 1；</li>\n<li>如果  <code>x ∉ C</code>  且表未满：将  <code>x</code>  加入表中，计数设为 1；</li>\n<li>如果  <code>x ∉ C</code>  且表已满：将所有计数器减 1，删除计数为 0 的元素。</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h4 id=\"14-举个例子\"><a class=\"anchor\" href=\"#14-举个例子\">#</a> 💡 1.4 举个例子</h4>\n<p>数据流：  A, B, A, C, A, B, D, A, C, C, C, C, B, ...<br>\n 使用 Misra-Gries，可能发现：<br>\nA: 频繁<br>\n C: 频繁<br>\n B: 可能<br>\n D: 被忽略</p>\n<hr>\n<h4 id=\"15-准确性保证误差控制\"><a class=\"anchor\" href=\"#15-准确性保证误差控制\">#</a> 📏 1.5 准确性保证（误差控制）</h4>\n<ul>\n<li>算法输出一个近似频率向量  <code>𝑓̂</code> ；</li>\n<li>满足误差上界：‖𝑓 - 𝑓̂‖_∞ ≤ ε ‖𝑓‖₁</li>\n<li>即最大误差不超过总出现次数的 ε 倍。</li>\n</ul>\n<hr>\n<h4 id=\"16-空间与时间复杂度\"><a class=\"anchor\" href=\"#16-空间与时间复杂度\">#</a> 📦 1.6 空间与时间复杂度</h4>\n<table>\n<thead>\n<tr>\n<th>指标</th>\n<th>复杂度</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>时间复杂度</td>\n<td>每个元素  <code>O(1)</code></td>\n</tr>\n<tr>\n<td>空间复杂度</td>\n<td><code>O(1/ε)</code>  个计数器</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h4 id=\"17-特点总结\"><a class=\"anchor\" href=\"#17-特点总结\">#</a> 🔁 1.7 特点总结</h4>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>✅ 单次扫描</td>\n<td>只遍历数据一次</td>\n</tr>\n<tr>\n<td>✅ 确定性</td>\n<td>非随机，输出固定</td>\n</tr>\n<tr>\n<td>✅ 空间效率高</td>\n<td>跟踪少量元素就能估计全局</td>\n</tr>\n<tr>\n<td>✅ 控误差</td>\n<td>误差最多 ε × 总数量</td>\n</tr>\n<tr>\n<td>❌ 不可合并</td>\n<td>不是线性 sketch，不能合并多个子数据流的结果</td>\n</tr>\n<tr>\n<td>🧾 适用模型</td>\n<td>cash register model（只加不减）</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h4 id=\"18-用途\"><a class=\"anchor\" href=\"#18-用途\">#</a> 🧠 1.8 用途</h4>\n<ul>\n<li>找最常见的 IP 地址</li>\n<li>检测最常点击的链接</li>\n<li>实时舆情监控</li>\n<li>高频交易流分析</li>\n</ul>\n<h3 id=\"2-misra-gries-与-heavy-hitters-幻灯片总结\"><a class=\"anchor\" href=\"#2-misra-gries-与-heavy-hitters-幻灯片总结\">#</a> 2. 📘 Misra-Gries 与 Heavy Hitters - 幻灯片总结</h3>\n<hr>\n<h4 id=\"第-1-页misra-gries-算法回顾\"><a class=\"anchor\" href=\"#第-1-页misra-gries-算法回顾\">#</a> 第 1 页：Misra-Gries 算法回顾</h4>\n<h5 id=\"主要内容\"><a class=\"anchor\" href=\"#主要内容\">#</a> 📌 主要内容</h5>\n<ol>\n<li>\n<p><strong>Misra-Gries 是一个 sketching 算法</strong></p>\n<ul>\n<li>\n<p>它可以近似记录频繁元素的信息；</p>\n</li>\n<li>\n<p>但注意，不是 “线性” sketch（见第 3 点）。</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>不是线性 sketching 算法</strong></p>\n<ul>\n<li>\n<p>意思是：不能把两个 sketch（比如两段数据流的 MG 结果）直接合并为整体结果；</p>\n</li>\n<li>\n<p>限制了它在分布式或合并式处理中的应用。</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>输出误差保证</strong></p>\n<ul>\n<li>\n<p>输出一个估计频率向量  <code>𝜓 ∈ ℝⁿ</code> ，满足：</p>\n<p><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">‖𝜓 - 𝜓‖∞ ≤ ε‖𝜓‖₁</span><br></pre></td></tr></table></figure></p>\n<p>其中：</p>\n<ul>\n<li>\n<p>‖𝜓‖₁：数据流中所有元素的总出现次数；</p>\n</li>\n<li>\n<p>‖・‖∞：最大元素误差；</p>\n</li>\n<li>\n<p>ε：误差容忍度；</p>\n</li>\n</ul>\n</li>\n<li>\n<p>这是在 <strong>cash register model</strong> 下成立的（只加不减）。</p>\n</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h5 id=\"左下角范数符号说明\"><a class=\"anchor\" href=\"#左下角范数符号说明\">#</a> 🧾 左下角范数符号说明：</h5>\n<ul>\n<li>\n<p><code>‖x‖∞ = max |xᵢ|</code> ：最大值范数；</p>\n</li>\n<li>\n<p><code>‖x‖₁ = ∑ |xᵢ|</code> ：L1 范数（总和）；</p>\n</li>\n</ul>\n<hr>\n<h4 id=\"第-2-页heavy-hitters-中的范数-l1-l2-l-等\"><a class=\"anchor\" href=\"#第-2-页heavy-hitters-中的范数-l1-l2-l-等\">#</a> 第 2 页：Heavy Hitters 中的范数 ℓ₁, ℓ₂, ℓ∞ 等</h4>\n<h5 id=\"不同范数的作用\"><a class=\"anchor\" href=\"#不同范数的作用\">#</a> 📌 不同范数的作用</h5>\n<ul>\n<li>\n<p>ℓₚ范数定义：</p>\n<p><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">‖𝜓‖ₚ = ( ∑ |fᵢ|ₚ )^(1/p)</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<h5 id=\"重点范数\"><a class=\"anchor\" href=\"#重点范数\">#</a> ✨ 重点范数：</h5>\n<table>\n<thead>\n<tr>\n<th>符号</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>‖𝜓‖₀</td>\n<td>非零元素个数（等价于不同元素数）</td>\n</tr>\n<tr>\n<td>‖𝜓‖₁</td>\n<td>所有元素频率的总和（数据流总长度）</td>\n</tr>\n<tr>\n<td>‖𝜓‖₂</td>\n<td>衡量数据流的 “方差”（振荡性）</td>\n</tr>\n<tr>\n<td>‖𝜓‖∞</td>\n<td>最大元素的频率</td>\n</tr>\n</tbody>\n</table>\n<p>具体相关的概念在随机算法基础文章中有记录</p>\n<ul>\n<li>\n<p>常用事实：</p>\n<p><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">‖𝜓‖∞ ≤ ‖𝜓‖₂ ≤ ‖𝜓‖₁</span><br></pre></td></tr></table></figure></p>\n</li>\n</ul>\n<h5 id=\"为什么重要\"><a class=\"anchor\" href=\"#为什么重要\">#</a> 💡 为什么重要？</h5>\n<ul>\n<li>\n<p>有些算法提供  <code>ε\\2016𝜓\\2016₂</code>  误差控制；</p>\n</li>\n<li>\n<p>而  <code>ε\\2016𝜓\\2016₁</code>  的误差界限更宽松，因此 ℓ₂ 保证更强；</p>\n</li>\n<li>\n<p>选择不同 sketch 技术时，通常根据你希望控制的范数来决定使用哪种算法。</p>\n</li>\n</ul>\n<hr>\n<h4 id=\"轻微推广generalization\"><a class=\"anchor\" href=\"#轻微推广generalization\">#</a> 🔄 轻微推广（Generalization）</h4>\n<p>讲的是如何将 sketch 技术用于稍微复杂的数据结构，比如：</p>\n<ul>\n<li>\n<p>输入是 (element, count) 对；</p>\n</li>\n<li>\n<p>最终可以保证：</p>\n<p><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">‖𝜓‖₂ ≤ m × B</span><br></pre></td></tr></table></figure></p>\n<p>其中：</p>\n<ul>\n<li>\n<p><code>m</code>  是不同元素数量；</p>\n</li>\n<li>\n<p><code>B</code>  是最大计数的大小。</p>\n</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "计算机科学",
                "随机算法"
            ]
        },
        {
            "id": "http://example.com/2025/06/14/computer/StochasticAlgorithm/lec11%20Learning%20and%20testingprobability%20distributions/",
            "url": "http://example.com/2025/06/14/computer/StochasticAlgorithm/lec11%20Learning%20and%20testingprobability%20distributions/",
            "title": "lec11 Learning and testingprobability distributions",
            "date_published": "2025-06-14T03:07:44.041Z",
            "content_html": "<p>这一节主要讲的是，如果我们不知道这个概率，我们要从已有的分布中求出这个概率 P</p>\n<h3 id=\"total-variation-distance\"><a class=\"anchor\" href=\"#total-variation-distance\">#</a> Total Variation Distance</h3>\n<p>![[Pasted image 20250617082622.png]]<br>\n![[Pasted image 20250617082651.png]]</p>\n",
            "tags": [
                "计算机科学",
                "随机算法"
            ]
        },
        {
            "id": "http://example.com/2025/06/14/computer/StochasticAlgorithm/lec9%20%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93%E7%89%88/",
            "url": "http://example.com/2025/06/14/computer/StochasticAlgorithm/lec9%20%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93%E7%89%88/",
            "title": "lec9",
            "date_published": "2025-06-14T03:07:43.293Z",
            "content_html": "",
            "tags": [
                "计算机科学",
                "随机算法"
            ]
        },
        {
            "id": "http://example.com/2025/06/14/computer/StochasticAlgorithm/lec8%20%E6%B5%81%E5%BC%8F%E7%AE%97%E6%B3%95/",
            "url": "http://example.com/2025/06/14/computer/StochasticAlgorithm/lec8%20%E6%B5%81%E5%BC%8F%E7%AE%97%E6%B3%95/",
            "title": "lec9",
            "date_published": "2025-06-14T03:07:41.818Z",
            "content_html": "<p>需要解决流式算法的问题，我们有两种思路，一种是乘法近似，一种是加法近似<br>\n！[[Pasted image 20250614130820.png]]<br>\n 接下来介绍第一个问题</p>\n<h3 id=\"majority问题\"><a class=\"anchor\" href=\"#majority问题\">#</a> Majority 问题</h3>\n<p>这个问题需要解决的是，在一个流式输入的过程中，是否有哪个元素的出现次数 &gt; m/2<br>\n 或者是一个变量，比如 1/k 的 m<br>\n 为了解决这个问题，我们可以用以下算法</p>\n<ol>\n<li>Misra-Gries algorithm<br>\n 这个算法的定义是，由于我们只有很小的一个空间用来存放数据，所以我们可以使用一种算法，例如我们只有 1/ε 的空间，所以，我们在每个元素流过时执行以下的操作：<br>\n1. 如果这个元素还未存在，且我们的空间还没满，那么将他加入空间并记录次数 + 1<br>\n2. 如果这个元素已经存在了，那么对他的计数 + 1<br>\n3. 如果这个元素没有存在且空间已经满了，那么对所有的现存元素 - 1<br>\n 复杂度<br>\n！[[Pasted image 20250614133805.png]]<br>\n![[Pasted image 20250614133817.png]]</li>\n</ol>\n<h3 id=\"approximate-counting-近似计数问题\"><a class=\"anchor\" href=\"#approximate-counting-近似计数问题\">#</a> Approximate Counting 近似计数问题</h3>\n<p>现在，我们想要用更小的空间来记录数据，logm 还是太大了，所以，我们不需要那么准确，只需要近似等于即可，</p>\n<p>Morris Counter 原始算法（近似计数）<br>\n他通过限制数量增长的趋势来控制空间，![[Pasted image 20250614135235.png]]<br>\n 由于概率是 1/2 的 x 次 - 1，所以他需要的空间就从原本的 n 变成了 logn，而需要存储的空间的 bits 就变成了 log log n，大大降低了存储的空间<br>\n这里，我们用到了条件期望<br>\n！[[Pasted image 20250614135407.png]]<br>\n 通过对比<br>\n！[[Pasted image 20250614140718.png]]![[Pasted image 20250614143131.png]]<br>\n 方差较大，这不是我们想要的，所以，我们有一些别的方法来阻止这个问题<br>\n！[[Pasted image 20250614143230.png]]<br>\n 这里讲一下中位数版本的<br>\n！[[Pasted image 20250614143615.png]]<br>\n 但是我们真的需要这么多方法来确定这个值吗？<br>\n只有在确定需要将概率放大到什么值得时候再使用</p>\n<p>但是朴素得 Morris Counter 仍然有一些问题，他的增长太快了，可能会有一些误差，所以我们可以替代原有的这个比率，重新选择一个比率来缓解这个问题</p>\n<p>![[Pasted image 20250614144112.png]]</p>\n<h3 id=\"第三个问题-distinct-elements不同元素计数\"><a class=\"anchor\" href=\"#第三个问题-distinct-elements不同元素计数\">#</a> 第三个问题 Distinct Elements（不同元素计数）</h3>\n<p>这个问题就是，有多少个不同的元素在这个数据流过去的过程中。<br>\n第一种算法：  Tidemark (AMS) algorithm<br>\n 这个方法很聪明，由于我们无法存下所有的元素，所以，我们可以使用一个哈希函数，来将元素映射到一个二进制表中。由于使用了二进制表来存储，最后获得的数学期望越大，说明元素越多。而由于可能存在一些极端值影响，所以我们可以使用多个哈希函数取中位数或者平均值。<br>\n![[Pasted image 20250614144910.png]]</p>\n<p>优化：BJKST algorithm<br>\n 与前面类似，我们也可以使用哈希函数，思路都完全相同，只是在这边我们只保留前 k 个元素<br>\n！[[Pasted image 20250614145410.png]]</p>\n",
            "tags": [
                "计算机科学",
                "随机算法"
            ]
        },
        {
            "id": "http://example.com/2025/06/13/computer/StochasticAlgorithm/%E8%BF%98%E8%A6%81%E5%86%99%E7%9A%84%E9%A2%98%E7%9B%AE/",
            "url": "http://example.com/2025/06/13/computer/StochasticAlgorithm/%E8%BF%98%E8%A6%81%E5%86%99%E7%9A%84%E9%A2%98%E7%9B%AE/",
            "title": "还要写的题目",
            "date_published": "2025-06-13T04:02:24.397Z",
            "content_html": "<p>tut02 08，09</p>\n",
            "tags": [
                "计算机科学",
                "随机算法"
            ]
        },
        {
            "id": "http://example.com/2025/06/12/computer/StochasticAlgorithm/lec4%20Derandomisation%20%E5%8E%BB%E9%9A%8F%E6%9C%BA%E5%8C%96/",
            "url": "http://example.com/2025/06/12/computer/StochasticAlgorithm/lec4%20Derandomisation%20%E5%8E%BB%E9%9A%8F%E6%9C%BA%E5%8C%96/",
            "title": "lec4 Derandomisation 去随机化",
            "date_published": "2025-06-12T07:59:05.859Z",
            "content_html": "<p>这一节主要是讲，比如有一个 99% 概率得到答案的随机算法，他会有一个 100% 成功的确定的 算法吗？<br>\n 有几种办法可以解决<br>\n 1 PRNG<br>\n 首先，这种方法是一种伪随机，例如摇一个骰子，他会伪装成骰子的结果，但是他并不是真的随机</p>\n<p>2. 蛮力法<br>\n顾名思义，就是在随机元不是很多的时候，通过枚举所有的随即元的结果，来求到确定的结果<br>\n！[[Pasted image 20250613204451.png]]</p>\n<p>所以时间复杂度非常的高，这适用于所有的问题<br>\n那么类似于决策问题我们可以怎么做呢？<br>\n我们可以用到之前提到过的概率放大方法，即通过多数投票和中位数法来代替这个过程</p>\n",
            "tags": [
                "计算机科学",
                "随机算法"
            ]
        },
        {
            "id": "http://example.com/2025/06/12/computer/StochasticAlgorithm/lec10%20Linear%20Programmingand%20Randomised%20Rounding/",
            "url": "http://example.com/2025/06/12/computer/StochasticAlgorithm/lec10%20Linear%20Programmingand%20Randomised%20Rounding/",
            "title": "lec10 Linear Programmingand Randomised Rounding",
            "date_published": "2025-06-12T07:59:04.677Z",
            "content_html": "<p>这一节着重讨论了线性规划的内容，并且通过线性规划重新讨论了第 5 节的 min-cut 问题。<br>\n首先讨论了普通的线性规划，然后提出了整数线性规划<br>\n由于有些问题，比如 0-1 背包问题，又或是 min-cut 问题，这些问题的参数并不能为连续的变量，只能是整数。但是由于 ILP (整数线性规划) 是一个 NP-hard 问题，有时候无法在多项式时间内求解，因此我们来讨论将 ILP 放松并界定的方式</p>\n<p>比如说，我们将这个 min-cut 问题用 ILP 的方式列出来。<br>\n![[Pasted image 20250613075501.png]]</p>\n<p>但是他的求解是困难的，所以我们可以将他 relax 成 LP 问题，<br>\n![[Pasted image 20250613075550.png]]</p>\n<ul>\n<li>原来你只能 “封” 或 “不封” 一条路；</li>\n<li>现在我们放宽要求，允许 “封一半”（虽然不现实），比如：\n<ul>\n<li>路 A 封 60%，路 B 封 10%；</li>\n</ul>\n</li>\n<li>这听起来很奇怪，但数学上这样写，计算机会更容易解出最好的选择；</li>\n<li>虽然它不是真正的 “最小割”，但我们<strong>能用它得到一个接近的好答案</strong>！</li>\n</ul>\n<p>但是 实际上我们的结果必须是确定的，那么比如 A 是 40%，b 是 60%，我们该如何选择呢？<br>\n1. 四舍五入<br>\n字面意思，但是会有一个问题，如果用四舍五入的话，我们 relax 成 LP 问题的意义就没有了，所有的数据都是四舍五入，容易导致结果的偏差</p>\n<p>2.<strong>Randomised Rounding</strong>（随机阈值法）</p>\n<ul>\n<li>\n<p>从 0 到 1 中<strong>随机选择一个阈值 τ\\tauτ</strong>；</p>\n</li>\n<li>\n<p>然后：如果 yv&gt;τy_v &gt; \\tauyv​&gt;τ，就设成 1，否则设成 0。</p>\n</li>\n</ul>\n<p>💡 随机选择能 “平均” 掉一些不确定性，让你获得一个 “平均意义下表现不错” 的解。</p>\n<p>老师说：</p>\n<ul>\n<li>\n<p>“如果你总是用 0.5 作为标准，那就不能利用 LP 解出来的那些信息！”</p>\n</li>\n<li>\n<p>“我们应该利用 x∗x^*x∗ 和 LP 的所有变量，结合这些信息来做一个合理的、统计上可靠的转换。”</p>\n</li>\n<li>\n<p>“所以更好的方法是：随机化（Randomised Rounding）。”<br>\n 流程:<br>\n![[Pasted image 20250613080509.png]]</p>\n</li>\n</ul>\n<p>边被切的条件是：<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mi>u</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">y_u = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">u</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mi>v</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">y_v = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span><br>\n 换句话说：<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>y</mi><mi>u</mi><mo>∗</mo></msubsup><mo>≤</mo><mi>τ</mi><mo>&lt;</mo><msubsup><mi>y</mi><mi>v</mi><mo>∗</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">y_u^* ≤ τ &lt; y_v^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.935696em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">u</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.1132em;\">τ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.935696em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span></span></span></span><br>\n 所以这条边被切的概率就是：<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Pr</mi><mo>⁡</mo><mo stretchy=\"false\">[</mo><mi>τ</mi><mo>∈</mo><mo stretchy=\"false\">(</mo><msubsup><mi>y</mi><mi>u</mi><mo>∗</mo></msubsup><mo separator=\"true\">,</mo><msubsup><mi>y</mi><mi>v</mi><mo>∗</mo></msubsup><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo><mo>=</mo><msubsup><mi>y</mi><mi>v</mi><mo>∗</mo></msubsup><mo>−</mo><msubsup><mi>y</mi><mi>u</mi><mo>∗</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">\\Pr[\\tau \\in (y_u^*, y_v^*)] = y_v^* - y_u^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">Pr</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.1132em;\">τ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">u</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.935696em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.935696em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">u</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span></span></span></span></p>\n<p>所以经过一系列推导，可以得到结论<br>\n！[[Pasted image 20250613105153.png]]<br>\n min-cut 问题是一个已经有解法的问题，这里只是热身，接下来要解决一个真正的 NP-HARD 的问题</p>\n<h3 id=\"max-sat\"><a class=\"anchor\" href=\"#max-sat\">#</a> Max-Sat</h3>\n<p>这个问题就是</p>\n<ul>\n<li>\n<p><strong>游戏道具：</strong></p>\n<ul>\n<li>\n<p>有一堆<strong>开关</strong>，每个开关只能是 <strong>开</strong> (1) 或 <strong>关</strong> (0)。</p>\n</li>\n<li>\n<p>老师写下了很多<strong>规则</strong>（子句）。</p>\n<ul>\n<li>\n<p>每条规则长这样：</p>\n<blockquote>\n<p>“只要 <strong>开关 A</strong> 开着 <strong>或者</strong> <strong>开关 B</strong> 关着 <strong>或者</strong> …，我就满意。”</p>\n</blockquote>\n</li>\n<li>\n<p>也就是说，只要里面有一个条件被满足，这条规则就算 “真”。</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>SAT（可满足）</strong></p>\n<ul>\n<li>\n<p>问题：<strong>能不能找到一种开关状态，让老师的</strong><em>所有</em><strong>规则都满意？</strong></p>\n</li>\n<li>\n<p>如果能做到，游戏通关；如果做不到，就失败。</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Max-SAT（最大可满足）</strong></p>\n<ul>\n<li>\n<p>现实常常做不到让老师 100% 满意。</p>\n</li>\n<li>\n<p><strong>Max-SAT 换个问法</strong>：</p>\n<blockquote>\n<p>“在最理想情况下，<strong>最多</strong>能让老师满意多少条规则？”</p>\n</blockquote>\n</li>\n<li>\n<p>你的任务就是找出那种开关组合，让被满足的规则数量尽可能多。</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>为什么麻烦？</strong></p>\n<ul>\n<li>\n<p>有 nnn 个开关时，可能的开 / 关组合有 2n2^n2n 种，枚举不上。</p>\n</li>\n<li>\n<p>所以 Max-SAT 被称为 <strong>NP-Hard</strong>：电脑也很难一下子找到最优答案。<br>\n![[Pasted image 20250613105344.png]] 所以这个算法是一个 1/2 近似算法<br>\n！[[Pasted image 20250613105427.png]]</p>\n</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "计算机科学",
                "随机算法"
            ]
        },
        {
            "id": "http://example.com/2025/06/12/computer/StochasticAlgorithm/lec5%20Graph%20algorithms%EF%BC%88%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93%EF%BC%89/",
            "url": "http://example.com/2025/06/12/computer/StochasticAlgorithm/lec5%20Graph%20algorithms%EF%BC%88%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93%EF%BC%89/",
            "title": "lec5 Graph algorithms",
            "date_published": "2025-06-12T07:59:03.371Z",
            "content_html": "<p>引入概念：Global Minimum Cut<br>\n 这节课我们需要解决的问题：在一个无向连通图中，我们想把这个图分成两个，要如何切断最少的边的数量完成这个行为<br>\n由于求解这个问题的复杂度较高，并且当我们使用常规算法时，面对粘稠图会非常的无力，所以说，我们可以放大一些范围，牺牲一些准确性来获得更高效的时间复杂度。</p>\n<h3 id=\"kargers-contraction-algorithm\"><a class=\"anchor\" href=\"#kargers-contraction-algorithm\">#</a> Karger’s Contraction Algorithm</h3>\n<p>这个算法的原理就是，不断随机合并图上的一些点，直到只剩两个超级点，并且他们之间存在一堆线，这就是我们获得的 min-cut。<br>\n支撑原理是，当我们合并两个在同一边的点的时候，他们之间的需要分割的线并不会减少，所以我们可以这样做。<br>\n我们需要证明：我们能获得真正的最小点的机会至少为 2/n^2<br>\n 复杂度：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>4</mn></msup><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^4logn)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></p>\n<p>然后对这个算法进行优化<br>\n由于在一开始的时候进行切割，切割到最小组合的概率还较小，但是随着点的合并，这个概率会越来越大<br>\n所以，我们可以聪明一点<br>\n我们在点缩减到 n / 根号 2 的时候，将图复制一份，再独立进行原算法，并且递归重复这一步骤，即每个子图都在缩减时复制一份，并在最终选择结果时选择好的那一份。</p>\n<p>这样，可以把复杂度缩减到 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2logn)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span><br>\n 然后，开始计算他的成功概率等</p>\n<p>在章节最后，尝试用这种方法处理了一些其他的问题。。。。</p>\n",
            "tags": [
                "计算机科学",
                "随机算法"
            ]
        },
        {
            "id": "http://example.com/2025/06/12/computer/ComputationalGeometry/lec7%20Voronoi%20Diagram/",
            "url": "http://example.com/2025/06/12/computer/ComputationalGeometry/lec7%20Voronoi%20Diagram/",
            "title": "lec7 Voronoi Diagram",
            "date_published": "2025-06-12T00:07:21.398Z",
            "content_html": "<h1 id=\"voronoi-diagram-基础讲解\"><a class=\"anchor\" href=\"#voronoi-diagram-基础讲解\">#</a> Voronoi Diagram 基础讲解</h1>\n<h2 id=\"什么是-voronoi-diagram\"><a class=\"anchor\" href=\"#什么是-voronoi-diagram\">#</a> 什么是 Voronoi Diagram?</h2>\n<p>给定一个点集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>p</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">P = \\{p_1, p_2, \\dots, p_n\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>，Voronoi 图是将平面划分为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> 个区域（称为 Voronoi Cells），每个区域对应一个点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，使得该区域中任意一点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span> 满足：</p>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>dist</mtext><mo stretchy=\"false\">(</mo><mi>q</mi><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>&lt;</mo><mtext>dist</mtext><mo stretchy=\"false\">(</mo><mi>q</mi><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo><mspace width=\"1em\"><mi mathvariant=\"normal\">∀</mi><mi>j</mi><mo mathvariant=\"normal\">≠</mo><mi>i</mi></mspace></mrow><annotation encoding=\"application/x-tex\">\\text{dist}(q, p_i) &lt; \\text{dist}(q, p_j) \\quad \\forall j \\neq i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">dist</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.036108em;vertical-align:-0.286108em;\"></span><span class=\"mord text\"><span class=\"mord\">dist</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"inner\"><span class=\"mrel\"></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span></p>\n<p>通俗来说，想象你在一个城市里有很多咖啡店，Voronoi 图的作用就是把整个城市划分成若干区域，每个区域内的所有人，走路距离都最接近某一家咖啡店。换句话说，它告诉你「谁最靠近谁」。</p>\n<hr>\n<h2 id=\"voronoi-diagram-的基本构成\"><a class=\"anchor\" href=\"#voronoi-diagram-的基本构成\">#</a> Voronoi Diagram 的基本构成</h2>\n<ul>\n<li><strong>Voronoi Cell</strong>：每个点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的最近邻域。</li>\n<li><strong>Voronoi Edge</strong>：两个 Voronoi cell 的公共边，即两个点的中垂线的一部分。</li>\n<li><strong>Voronoi Vertex</strong>：三个或更多 Voronoi cell 的交点，等距于对应的点。</li>\n</ul>\n<h3 id=\"图示结构\"><a class=\"anchor\" href=\"#图示结构\">#</a> 图示结构：</h3>\n<p><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">      Voronoi Vertex</span><br><span class=\"line\">           ⬤</span><br><span class=\"line\">          /|\\</span><br><span class=\"line\">         / | \\</span><br><span class=\"line\">        /  |  \\</span><br><span class=\"line\">Cell A /   |   \\ Cell B</span><br><span class=\"line\">      -----⬤-----</span><br><span class=\"line\">          Voronoi Edge</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h2 id=\"基本性质\"><a class=\"anchor\" href=\"#基本性质\">#</a> 基本性质</h2>\n<ol>\n<li><strong>连通性</strong>：Voronoi 图是连通图。</li>\n<li><strong>边类型</strong>：Voronoi Edge 是线段或射线（半无限长），除非所有点共线。</li>\n<li><strong>复杂度</strong>：\n<ul>\n<li>Voronoi 顶点数：最多 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>n</mi><mo>−</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">2n - 5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">5</span></span></span></span></li>\n<li>Voronoi 边数：最多 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><mi>n</mi><mo>−</mo><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">3n - 6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span></li>\n<li><strong>结论</strong>：总复杂度是线性的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2 id=\"空圆性质empty-circle-property\"><a class=\"anchor\" href=\"#空圆性质empty-circle-property\">#</a> 空圆性质（Empty Circle Property）</h2>\n<h3 id=\"voronoi-顶点的判定\"><a class=\"anchor\" href=\"#voronoi-顶点的判定\">#</a> Voronoi 顶点的判定：</h3>\n<blockquote>\n<p>一个点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span> 是 Voronoi 顶点 ⟺ 存在一个最大空圆 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mi>P</mi></msub><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">C_P(q)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\">)</span></span></span></span>，其边界上恰好有三个点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>3</mn></msub><mo>∈</mo><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">p_1, p_2, p_3 \\in P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335400000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span>，且圆内部不包含其它点。</p>\n</blockquote>\n<h3 id=\"voronoi-边的判定\"><a class=\"anchor\" href=\"#voronoi-边的判定\">#</a> Voronoi 边的判定：</h3>\n<blockquote>\n<p>两点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_1, p_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 之间存在 Voronoi 边 ⟺ 在它们的中垂线上存在点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span>，其最大空圆仅以 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_1, p_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为边界点。</p>\n</blockquote>\n<hr>\n<h2 id=\"应用举例\"><a class=\"anchor\" href=\"#应用举例\">#</a> 应用举例</h2>\n<ul>\n<li>疫情分析（如 John Snow 的霍乱图）</li>\n<li>最近邻搜索（NN、kNN）</li>\n<li>地理信息系统（GIS）</li>\n<li>图像处理与分割</li>\n<li>网络规划（如通信塔覆盖区域）</li>\n<li>机器学习中的聚类（如 K-means）</li>\n</ul>\n<hr>\n<h1 id=\"voronoi-图复杂度的欧拉公式证明\"><a class=\"anchor\" href=\"#voronoi-图复杂度的欧拉公式证明\">#</a> Voronoi 图复杂度的欧拉公式证明</h1>\n<p>我们希望证明：对于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>&gt;</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">n &gt; 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span></span></span> 个点的 Voronoi 图 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mo stretchy=\"false\">(</mo><mi>P</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">V(P)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mclose\">)</span></span></span></span>，其复杂度是线性的：</p>\n<ul>\n<li>顶点数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>≤</mo><mn>2</mn><mi>n</mi><mo>−</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">\\leq 2n - 5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7719400000000001em;vertical-align:-0.13597em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">5</span></span></span></span></li>\n<li>边数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>≤</mo><mn>3</mn><mi>n</mi><mo>−</mo><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">\\leq 3n - 6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7719400000000001em;vertical-align:-0.13597em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span></li>\n</ul>\n<hr>\n<h2 id=\"使用欧拉公式\"><a class=\"anchor\" href=\"#使用欧拉公式\">#</a> 📐 使用欧拉公式</h2>\n<p>欧拉公式是平面图中的基本定理：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>V</mi><mo>−</mo><mi>E</mi><mo>+</mo><mi>F</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">V - E + F = 2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span></span></span></span></p>\n<p>其中：</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span></span> 是顶点数</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> 是边数</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span> 是面数（Voronoi cell 数量，即原始点数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>）</li>\n</ul>\n<hr>\n<h2 id=\"添加虚拟点使图封闭\"><a class=\"anchor\" href=\"#添加虚拟点使图封闭\">#</a> 🔧 添加虚拟点使图封闭</h2>\n<p>由于 Voronoi 图的某些边是无穷延伸的半线，不能直接套用欧拉公式。为了解决这个问题，我们：</p>\n<ul>\n<li>添加一个<strong>虚拟点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span></strong></li>\n<li>将所有半线连到 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>，使图成为封闭图</li>\n</ul>\n<p>这样我们有一个新的图，满足欧拉公式：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>V</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo>−</mo><mi>E</mi><mo>+</mo><mi>n</mi><mo>=</mo><mn>2</mn><mspace width=\"1em\"><mtext>（记作 *）</mtext></mspace></mrow><annotation encoding=\"application/x-tex\">(V + 1) - E + n = 2 \\quad \\text{（记作 *）}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.75em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord text\"><span class=\"mord cjk_fallback\">（记作</span><span class=\"mord\"> *</span><span class=\"mord cjk_fallback\">）</span></span></span></span></span></span></p>\n<hr>\n<h2 id=\"顶点度数下界\"><a class=\"anchor\" href=\"#顶点度数下界\">#</a> 🔁 顶点度数下界</h2>\n<p>Voronoi 图中的每个顶点（包括新增的 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>）至少有 <strong>度数为 3</strong>，因为：</p>\n<ul>\n<li>一个 Voronoi 顶点是三个 Voronoi cell 的交点</li>\n<li>所以它至少连接三条边</li>\n</ul>\n<p>因此：</p>\n<ul>\n<li>所有顶点度数之和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>≥</mo><mn>3</mn><mo stretchy=\"false\">(</mo><mi>V</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\geq 3(V + 1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7719400000000001em;vertical-align:-0.13597em;\"></span><span class=\"mrel\">≥</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></li>\n<li>而总度数也等于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">2E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span></li>\n</ul>\n<p>所以：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>2</mn><mi>E</mi><mo>≥</mo><mn>3</mn><mo stretchy=\"false\">(</mo><mi>V</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo>⇒</mo><mi>V</mi><mo>≤</mo><mfrac><mn>2</mn><mn>3</mn></mfrac><mi>E</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">2E \\geq 3(V + 1) \\Rightarrow V \\leq \\frac{2}{3}E - 1\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.13597em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≥</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.13597em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.00744em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">3</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span></span></p>\n<hr>\n<h2 id=\"代入欧拉公式\"><a class=\"anchor\" href=\"#代入欧拉公式\">#</a> 🔚 代入欧拉公式</h2>\n<p>将上式代入公式 (*)：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mrow><mo fence=\"true\">(</mo><mfrac><mn>2</mn><mn>3</mn></mfrac><mi>E</mi><mo>−</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo fence=\"true\">)</mo></mrow><mo>−</mo><mi>E</mi><mo>+</mo><mi>n</mi><mo>=</mo><mn>2</mn><mspace linebreak=\"newline\"></mspace><mo>⇒</mo><mfrac><mn>2</mn><mn>3</mn></mfrac><mi>E</mi><mo>−</mo><mi>E</mi><mo>+</mo><mi>n</mi><mo>=</mo><mn>2</mn><mspace linebreak=\"newline\"></mspace><mo>⇒</mo><mo>−</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><mi>E</mi><mo>=</mo><mn>2</mn><mo>−</mo><mi>n</mi><mspace linebreak=\"newline\"></mspace><mo>⇒</mo><mi>E</mi><mo>=</mo><mn>3</mn><mi>n</mi><mo>−</mo><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">\\left(\\frac{2}{3}E - 1 + 1\\right) - E + n = 2 \\\\\n\\Rightarrow \\frac{2}{3}E - E + n = 2 \\\\\n\\Rightarrow -\\frac{1}{3}E = 2 - n \\\\\n\\Rightarrow E = 3n - 6\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.40003em;vertical-align:-0.95003em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">3</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">1</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.00744em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">3</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.00744em;vertical-align:-0.686em;\"></span><span class=\"mord\">−</span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">3</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span></span></p>\n<p>再代入 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mo>≤</mo><mfrac><mn>2</mn><mn>3</mn></mfrac><mi>E</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">V \\leq \\frac{2}{3}E - 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.13597em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.190108em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.845108em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span> 得：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>V</mi><mo>≤</mo><mfrac><mn>2</mn><mn>3</mn></mfrac><mo stretchy=\"false\">(</mo><mn>3</mn><mi>n</mi><mo>−</mo><mn>6</mn><mo stretchy=\"false\">)</mo><mo>−</mo><mn>1</mn><mo>=</mo><mn>2</mn><mi>n</mi><mo>−</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">V \\leq \\frac{2}{3}(3n - 6) - 1 = 2n - 5\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.13597em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.00744em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">3</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mopen\">(</span><span class=\"mord\">3</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">6</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">5</span></span></span></span></span></p>\n<hr>\n<h2 id=\"结论\"><a class=\"anchor\" href=\"#结论\">#</a> ✅ 结论</h2>\n<ul>\n<li>边数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi><mo>≤</mo><mn>3</mn><mi>n</mi><mo>−</mo><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">E \\leq 3n - 6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.13597em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span></li>\n<li>顶点数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mo>≤</mo><mn>2</mn><mi>n</mi><mo>−</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">V \\leq 2n - 5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.13597em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">5</span></span></span></span></li>\n<li>Voronoi 图总结构复杂度为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span>（线性）</li>\n</ul>\n<hr>\n<h1 id=\"voronoi-diagram-的计算方法详解\"><a class=\"anchor\" href=\"#voronoi-diagram-的计算方法详解\">#</a> Voronoi Diagram 的计算方法详解</h1>\n<p>Voronoi 图的计算，目标是将一组平面点划分成最近邻区域。虽然定义简单，但构造算法非常讲究效率和几何处理的技巧。</p>\n<hr>\n<h2 id=\"一-常见算法概览\"><a class=\"anchor\" href=\"#一-常见算法概览\">#</a> 一、常见算法概览</h2>\n<table>\n<thead>\n<tr>\n<th>算法</th>\n<th>时间复杂度</th>\n<th>核心思想</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>增量式构造（Incremental）</td>\n<td>最坏 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>，随机化期望 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></td>\n<td>一个点一个点插入，逐步更新结构</td>\n</tr>\n<tr>\n<td>扫描线法（Sweep Line / Fortune’s Algorithm）</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></td>\n<td>用一条从左往右移动的 “海滩线” 维护结构</td>\n</tr>\n<tr>\n<td>分治法（Divide and Conquer）</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></td>\n<td>分别处理左右子集，合并时找出分界线</td>\n</tr>\n<tr>\n<td>提升法（Lifting / 3D Convex Hull）</td>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></td>\n<td>把二维问题变为三维凸包问题再投影回二维</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2 id=\"二-incremental-algorithm增量式\"><a class=\"anchor\" href=\"#二-incremental-algorithm增量式\">#</a> 二、Incremental Algorithm（增量式）</h2>\n<h3 id=\"思路\"><a class=\"anchor\" href=\"#思路\">#</a> 思路：</h3>\n<ol>\n<li>初始 Voronoi 图为空或为第一个点占据全平面。</li>\n<li>逐个插入点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，在当前结构中找到属于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 的区域。</li>\n<li>更新 Voronoi 图：以 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 为中心构造新的边和顶点，修剪旧区域。</li>\n<li>不断重复，直到所有点都插入完毕。</li>\n</ol>\n<h3 id=\"时间复杂度\"><a class=\"anchor\" href=\"#时间复杂度\">#</a> 时间复杂度：</h3>\n<ul>\n<li>最坏：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>（因为一个点可能影响所有已有区域）</li>\n<li>随机化插入顺序可达期望 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span>（Clarkson &amp; Shor）</li>\n</ul>\n<hr>\n<h2 id=\"三-sweep-line-algorithmfortunes-algorithm\"><a class=\"anchor\" href=\"#三-sweep-line-algorithmfortunes-algorithm\">#</a> 三、Sweep Line Algorithm（Fortune’s Algorithm）</h2>\n<h3 id=\"思路-2\"><a class=\"anchor\" href=\"#思路-2\">#</a> 思路：</h3>\n<ol>\n<li>用一条从左往右的扫描线 “扫” 过整个点集。</li>\n<li>所有 “事件” 点按 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> 坐标排序，包括：\n<ul>\n<li>点事件（添加新的 site）</li>\n<li>圆事件（删除某段边，形成 Voronoi 顶点）</li>\n</ul>\n</li>\n<li>用 “海滩线”（beach line）维护当前状态：\n<ul>\n<li>是一条由抛物线拼接而成的曲线</li>\n<li>每个点产生一段抛物线弧，表示其当前影响范围</li>\n</ul>\n</li>\n<li>对每个事件更新结构，最终得到 Voronoi 图。</li>\n</ol>\n<h3 id=\"数据结构\"><a class=\"anchor\" href=\"#数据结构\">#</a> 数据结构：</h3>\n<ul>\n<li>优先队列存事件点</li>\n<li>平衡树维护海滩线结构</li>\n</ul>\n<h3 id=\"时间复杂度-2\"><a class=\"anchor\" href=\"#时间复杂度-2\">#</a> 时间复杂度：</h3>\n<ul>\n<li>总事件数：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></li>\n<li>每次事件处理 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(\\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></li>\n<li>总体复杂度：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></li>\n</ul>\n<hr>\n<h2 id=\"四-divide-and-conquer分治法\"><a class=\"anchor\" href=\"#四-divide-and-conquer分治法\">#</a> 四、Divide and Conquer（分治法）</h2>\n<h3 id=\"思路-3\"><a class=\"anchor\" href=\"#思路-3\">#</a> 思路：</h3>\n<ol>\n<li>将点集按 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> 坐标排序，划分为左右两半。</li>\n<li>分别递归构造左、右半平面的 Voronoi 图。</li>\n<li>合并两个 Voronoi 图：\n<ul>\n<li>找出分界线（也称合并链、merging chain）</li>\n<li>沿该分界线逐步连接两个子图</li>\n<li>删除被另一半覆盖的部分结构</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"合并技巧\"><a class=\"anchor\" href=\"#合并技巧\">#</a> 合并技巧：</h3>\n<ul>\n<li>利用中垂线、最小外接圆、点的相对位置判断结构连接</li>\n<li>分界线呈 y 单调性，方便构造</li>\n</ul>\n<h3 id=\"时间复杂度-3\"><a class=\"anchor\" href=\"#时间复杂度-3\">#</a> 时间复杂度：</h3>\n<ul>\n<li>每次划分 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span>，递归深度 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">\\log n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></li>\n<li>合并线构造 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></li>\n<li>总体复杂度：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></li>\n</ul>\n<hr>\n<h2 id=\"五-lifting-method3d-提升法\"><a class=\"anchor\" href=\"#五-lifting-method3d-提升法\">#</a> 五、Lifting Method（3D 提升法）</h2>\n<h3 id=\"思路-4\"><a class=\"anchor\" href=\"#思路-4\">#</a> 思路：</h3>\n<ol>\n<li>将每个平面点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">p = (x, y)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span></span></span></span> 映射到三维空间：\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>λ</mi><mo stretchy=\"false\">(</mo><mi>p</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo separator=\"true\">,</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\lambda(p) = (x, y, x^2 + y^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">λ</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>，映射到抛物面上</li>\n</ul>\n</li>\n<li>构造这组点在三维空间中的 <strong>上凸包</strong></li>\n<li>将上凸包投影回 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">xy</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> 平面，得到 Delaunay Triangulation</li>\n<li>再通过对偶关系构造 Voronoi 图</li>\n</ol>\n<h3 id=\"优势\"><a class=\"anchor\" href=\"#优势\">#</a> 优势：</h3>\n<ul>\n<li>可用于高维空间问题</li>\n<li>和 Delaunay Triangulation 紧密相关</li>\n</ul>\n<h3 id=\"时间复杂度-4\"><a class=\"anchor\" href=\"#时间复杂度-4\">#</a> 时间复杂度：</h3>\n<ul>\n<li>和三维凸包一样：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n \\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span></li>\n</ul>\n<hr>\n<h2 id=\"六-小结对比\"><a class=\"anchor\" href=\"#六-小结对比\">#</a> 六、小结对比</h2>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>是否容易实现</th>\n<th>是否高效</th>\n<th>适合说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>增量式</td>\n<td>✅ 容易入门</td>\n<td>❌ 较慢</td>\n<td>教学用途</td>\n</tr>\n<tr>\n<td>扫描线法</td>\n<td>❌ 实现复杂</td>\n<td>✅ 快速</td>\n<td>工业级构造</td>\n</tr>\n<tr>\n<td>分治法</td>\n<td>✅ 实现清晰</td>\n<td>✅ 快速</td>\n<td>理论分析</td>\n</tr>\n<tr>\n<td>提升法</td>\n<td>❌ 几何较难</td>\n<td>✅ 快速</td>\n<td>与 Delaunay 联动</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h2 id=\"七-拓展阅读\"><a class=\"anchor\" href=\"#七-拓展阅读\">#</a> 七、拓展阅读</h2>\n<ul>\n<li><em>Computational Geometry: Algorithms and Applications</em> by de Berg et al.</li>\n<li>Fortune's original paper (1987): <em>A Sweepline Algorithm for Voronoi Diagrams</em></li>\n<li>Clarkson &amp; Shor (1989): <em>Randomized Incremental Algorithms and Probabilistic Analysis</em></li>\n</ul>\n<hr>\n<h1 id=\"delaunay-triangulation基础\"><a class=\"anchor\" href=\"#delaunay-triangulation基础\">#</a> Delaunay Triangulation 基础</h1>\n<h2 id=\"一-delaunay-triangulation-是什么\"><a class=\"anchor\" href=\"#一-delaunay-triangulation-是什么\">#</a> 🔺 一、Delaunay Triangulation 是什么？</h2>\n<h3 id=\"定义\"><a class=\"anchor\" href=\"#定义\">#</a> 📌 定义：</h3>\n<blockquote>\n<p>Delaunay 三角剖分是这样一种三角化方法：</p>\n<p><strong>对一组点进行三角剖分，使得任何一个三角形的外接圆中都不包含其它点。</strong></p>\n</blockquote>\n<p>这个条件叫做：</p>\n<blockquote>\n<p><strong>空圆性质（Empty Circle Property）</strong></p>\n</blockquote>\n<hr>\n<h2 id=\"二-为什么要用-delaunay\"><a class=\"anchor\" href=\"#二-为什么要用-delaunay\">#</a> 🎯 二、为什么要用 Delaunay？</h2>\n<p>Delaunay Triangulation 相比于任意三角剖分，有很多好处，尤其是：</p>\n<h3 id=\"角度最优化angle-optimality\"><a class=\"anchor\" href=\"#角度最优化angle-optimality\">#</a> ✅ 角度最优化（Angle Optimality）</h3>\n<ul>\n<li>\n<p>它 <strong>最大化最小角</strong>，也就是说：</p>\n<ul>\n<li>\n<p>避免生成 “又细又瘦” 的长三角形（sliver triangle）</p>\n</li>\n<li>\n<p>更接近等边三角形，利于数值稳定性与网格质量</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>这在图形学、有限元分析、地形建模中非常重要。</p>\n<hr>\n<h2 id=\"️-三-legal-triangulation-与-delaunay-的等价\"><a class=\"anchor\" href=\"#️-三-legal-triangulation-与-delaunay-的等价\">#</a> ⚖️ 三、Legal Triangulation 与 Delaunay 的等价</h2>\n<p>你图中写的这句非常关键：</p>\n<blockquote>\n<p>合法三角剖分 ⇔ Delaunay triangulation</p>\n</blockquote>\n<p>这个意思是：</p>\n<ul>\n<li>\n<p>如果一个三角剖分中所有的四边形都满足 “对角线合法”（对角线切换后使得外接圆更空）</p>\n</li>\n<li>\n<p>那这个三角剖分就是 Delaunay 的</p>\n</li>\n</ul>\n<p>这个 “对角线切换” 叫 <strong>edge flipping</strong>，是很多 Delaunay 构造算法的核心操作。</p>\n<h2 id=\"四-定理\"><a class=\"anchor\" href=\"#四-定理\">#</a> 四、定理</h2>\n<p>对任意一个点集 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span> 的三角剖分，若点数为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>，凸包上的点数为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span>，则：</p>\n<ul>\n<li>三角形数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>=</mo><mn>2</mn><mi>n</mi><mo>−</mo><mn>2</mn><mo>−</mo><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">= 2n - 2 - k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></li>\n<li>边数 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>=</mo><mn>3</mn><mi>n</mi><mo>−</mo><mn>3</mn><mo>−</mo><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">= 3n - 3 - k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></li>\n</ul>\n<hr>\n<h3 id=\"️-证明思路\"><a class=\"anchor\" href=\"#️-证明思路\">#</a> ✏️ 证明思路：</h3>\n<p>设三角剖分为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span>，记：</p>\n<ul>\n<li>顶点数：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mo>=</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">V = n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span></li>\n<li>三角形数：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span></li>\n<li>面数：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mo>=</mo><mi>m</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">F = m + 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> 个三角形 + 外部面）</li>\n<li>边数：E = \\dfrac{3m + k}\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">3m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">m</span></span></span></span> 表示所有三角形的边数（重复计算）</li>\n<li>外边（即凸包边）只算一次，共 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> 条</li>\n<li>k 为顶点个数，我们知道顶点个数相当于一个多边形外部边的个数，而<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">3m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">m</span></span></span></span> 相当于 把所有内部三角形公用边算了两次加上所有的外部边一次，所以<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><mi>m</mi><mo>+</mo><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">3m+k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> 就相当于把内外部的边都算了两次<br>\n带入欧拉公式（平面图）：</li>\n</ul>\n</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>V</mi><mo>−</mo><mi>E</mi><mo>+</mo><mi>F</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">V - E + F = 2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span></span></span></span></p>\n<p>即：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>n</mi><mo>−</mo><mfrac><mrow><mn>3</mn><mi>m</mi><mo>+</mo><mi>k</mi></mrow><mn>2</mn></mfrac><mo>+</mo><mo stretchy=\"false\">(</mo><mi>m</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo>=</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">n - \\dfrac{3m + k}{2} + (m + 1) = 2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.05744em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span></span></span></span></p>\n<p>整理得：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>m</mi><mo>=</mo><mn>2</mn><mi>n</mi><mo>−</mo><mn>2</mn><mo>−</mo><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">m = 2n - 2 - k\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></p>\n<p>再带回边数公式：</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>E</mi><mo>=</mo><mfrac><mrow><mn>3</mn><mi>m</mi><mo>+</mo><mi>k</mi></mrow><mn>2</mn></mfrac><mo>=</mo><mfrac><mrow><mn>3</mn><mo stretchy=\"false\">(</mo><mn>2</mn><mi>n</mi><mo>−</mo><mn>2</mn><mo>−</mo><mi>k</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>k</mi></mrow><mn>2</mn></mfrac><mo>=</mo><mn>3</mn><mi>n</mi><mo>−</mo><mn>3</mn><mo>−</mo><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">E = \\dfrac{3m + k}{2} = \\dfrac{3(2n - 2 - k) + k}{2} = 3n - 3 - k\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.05744em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.37144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.113em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></p>\n<h2 id=\"五-angle-vector-与角度最优三角剖分\"><a class=\"anchor\" href=\"#五-angle-vector-与角度最优三角剖分\">#</a> 五、Angle Vector 与角度最优三角剖分</h2>\n<p><strong>Goal</strong>: 生成一个三角剖分，使得其<strong>最小角最大化</strong>。</p>\n<ul>\n<li>一个三角剖分若有 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> 个三角形，则一共有 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">3m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathnormal\">m</span></span></span></span> 个内角</li>\n<li>将所有内角按升序排列，定义角度向量：</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>A</mi><mo stretchy=\"false\">(</mo><mi>T</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>α</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>α</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>α</mi><mn>3</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>α</mi><mrow><mn>3</mn><mi>m</mi></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">A(T) = (\\alpha_1, \\alpha_2, \\alpha_3, \\ldots, \\alpha_{3m})\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mathnormal mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<ul>\n<li>若两个三角剖分 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span> 与 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>T</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">T&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span> 的角度向量满足：</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>A</mi><mo stretchy=\"false\">(</mo><mi>T</mi><mo stretchy=\"false\">)</mo><mo>&gt;</mo><mi>A</mi><mo stretchy=\"false\">(</mo><msup><mi>T</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo stretchy=\"false\">)</mo><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi mathvariant=\"normal\">∃</mi><mi>i</mi><mtext> 使得 </mtext><msub><mi>α</mi><mi>j</mi></msub><mo>=</mo><msubsup><mi>α</mi><mi>j</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msubsup><mtext> for all </mtext><mi>j</mi><mo>&lt;</mo><mi>i</mi><mo separator=\"true\">,</mo><mtext> 且 </mtext><msub><mi>α</mi><mi>i</mi></msub><mo>&gt;</mo><msubsup><mi>α</mi><mi>i</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">A(T) &gt; A(T&#x27;) \\iff \\exists i \\text{ 使得 } \\alpha_j = \\alpha&#x27;_j \\text{ for all } j &lt; i, \\text{ 且 } \\alpha_i &gt; \\alpha&#x27;_i\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.051892em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⟺</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.980548em;vertical-align:-0.286108em;\"></span><span class=\"mord\">∃</span><span class=\"mord mathnormal\">i</span><span class=\"mord text\"><span class=\"mord\"> </span><span class=\"mord cjk_fallback\">使得</span><span class=\"mord\"> </span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.185em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.801892em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span><span style=\"top:-3.1130000000000004em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span><span class=\"mord text\"><span class=\"mord\"> for all </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord text\"><span class=\"mord\"> </span><span class=\"mord cjk_fallback\">且</span><span class=\"mord\"> </span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.048892em;vertical-align:-0.247em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8018919999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.0037em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span></span></span></span></span></p>\n<p>则表示 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span> 比 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>T</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">T&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span> 更优。</p>\n<ul>\n<li>如果对所有三角剖分 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>T</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">T&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span> 都有 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo stretchy=\"false\">(</mo><mi>T</mi><mo stretchy=\"false\">)</mo><mo>≥</mo><mi>A</mi><mo stretchy=\"false\">(</mo><msup><mi>T</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">A(T) \\geq A(T&#x27;)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≥</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.001892em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>，那么 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span> 是一个<strong>角度最优三角剖分</strong>。</li>\n</ul>\n<p><strong>例子</strong>：</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo stretchy=\"false\">(</mo><mi>T</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mn>12</mn><mo separator=\"true\">,</mo><mn>14</mn><mo separator=\"true\">,</mo><mn>14</mn><mo separator=\"true\">,</mo><mn>15</mn><mo separator=\"true\">,</mo><mn>21</mn><mo separator=\"true\">,</mo><mn>22</mn><mo separator=\"true\">,</mo><mo>…</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">A(T) = (12, 14, 14, 15, 21, 22, \\ldots)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">1</span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">1</span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">1</span><span class=\"mord\">5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">2</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">2</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mclose\">)</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo stretchy=\"false\">(</mo><msup><mi>T</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mn>12</mn><mo separator=\"true\">,</mo><mn>14</mn><mo separator=\"true\">,</mo><mn>14</mn><mo separator=\"true\">,</mo><mn>15</mn><mo separator=\"true\">,</mo><mn>19</mn><mo separator=\"true\">,</mo><mn>22</mn><mo separator=\"true\">,</mo><mo>…</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">A(T&#x27;) = (12, 14, 14, 15, 19, 22, \\ldots)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.001892em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">1</span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">1</span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">1</span><span class=\"mord\">5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">1</span><span class=\"mord\">9</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">2</span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">…</span><span class=\"mclose\">)</span></span></span></span><br>\n 则 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mo>&gt;</mo><msup><mi>T</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">T &gt; T&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72243em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span>，因为第 5 个角更大。</li>\n</ul>\n<h2 id=\"六-legal-edges\"><a class=\"anchor\" href=\"#六-legal-edges\">#</a> 六、Legal edges</h2>\n<h3 id=\"61-三角翻转\"><a class=\"anchor\" href=\"#61-三角翻转\">#</a> 6.1 三角翻转</h3>\n<p>这一部分可以简单理解为一个四边形通过对角线分成两个三角形，可以进行旋转这个对角线以获得不同的三角形组合，并从中挑选最小角最大的组合。而如果一条边所构造的三角形的最小角小于翻转之后，那么这条边就是违法的。</p>\n<p>而需要注意的是，这一部分并不是看翻转后的每一个三角形的最小角，而是看翻转后两个三角形六个角中最小的一个。</p>\n<p>而关于非法与合法的对角线还有以下两个结论</p>\n<h4 id=\"结论-1\"><a class=\"anchor\" href=\"#结论-1\">#</a> ✅ 结论 1：</h4>\n<blockquote>\n<p>如果四个点 p_i、p_j、p_k、p_l 构成一个<strong>凸四边形</strong>，<br>\n并且它们<strong>不共圆</strong>，<br>\n那么在两条对角线（p_i p_j 和 p_k p_l）中，<strong>必有一条是非法边</strong>。</p>\n</blockquote>\n<p>换句话说：</p>\n<ul>\n<li>\n<p>对于这种四边形结构，它们的两种三角剖分方式（flip 前后的两种）不可能都是合法的</p>\n</li>\n<li>\n<p>要么 p_i p_j 是非法边，要么 p_k p_l 是非法边，不会同时合法</p>\n</li>\n</ul>\n<p>这其实说明了：<strong>总有一种划分方式会让角度更大，更优</strong></p>\n<hr>\n<h4 id=\"结论-2重点\"><a class=\"anchor\" href=\"#结论-2重点\">#</a> ✅ 结论 2（重点）：</h4>\n<blockquote>\n<p>如果四边形用对角线 p_i p_j 来三角剖分，<br>\n那么这条边 <strong>是非法的 ⇔ 点 p_l 落在三角形 p_i p_j p_k 的外接圆内</strong></p>\n</blockquote>\n<p>这个判据非常重要，叫做：</p>\n<h3 id=\"空圆判据delaunay-condition\"><a class=\"anchor\" href=\"#空圆判据delaunay-condition\">#</a> 🎯 <strong>空圆判据（Delaunay condition）</strong></h3>\n<blockquote>\n<p>一个三角形的三点构成的外接圆中，<strong>如果第四个点在圆内</strong>，那当前边就是非法边！</p>\n</blockquote>\n<p>也可以反过来说：</p>\n<blockquote>\n<p><strong>只有当所有三角形的外接圆都不包含其它点时，三角剖分才是 Delaunay 的</strong></p>\n</blockquote>\n<h1 id=\"voronoi-与-delaunay-triangulation\"><a class=\"anchor\" href=\"#voronoi-与-delaunay-triangulation\">#</a> Voronoi 与 Delaunay Triangulation</h1>\n<h2 id=\"voronoi-与-delaunay-triangulation的一些关系\"><a class=\"anchor\" href=\"#voronoi-与-delaunay-triangulation的一些关系\">#</a> Voronoi 与 Delaunay Triangulation 的一些关系</h2>\n<h3 id=\"1-voronoi-顶点-与-最大空圆的关系\"><a class=\"anchor\" href=\"#1-voronoi-顶点-与-最大空圆的关系\">#</a> 1. Voronoi 顶点 与 最大空圆的关系</h3>\n<p>一个点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span> 是 Voronoi 图 Vor (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span>) 的顶点，当且仅当：</p>\n<ul>\n<li>\n<p>存在一个<strong>最大空圆</strong>，其圆心为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></p>\n</li>\n<li>\n<p>这个圆的<strong>边界上恰好有 3 个输入点</strong>（<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>）</p>\n</li>\n<li>\n<p>且圆内部没有包含任何其他点</p>\n</li>\n</ul>\n<p>因此，Voronoi 顶点实际上就是这三个点外接圆的圆心。 这也是 Voronoi 和 Delaunay 的一个对偶：</p>\n<ul>\n<li>Voronoi 顶点 ⇔ Delaunay 三角形的外心</li>\n</ul>\n<hr>\n<h3 id=\"2-delaunay-三角形-外接圆为空\"><a class=\"anchor\" href=\"#2-delaunay-三角形-外接圆为空\">#</a> 2. Delaunay 三角形 ⇔ 外接圆为空</h3>\n<p>三点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 构成一个 Delaunay 三角形，当且仅当：</p>\n<ul>\n<li>它们的外接圆中<strong>不包含其他点</strong>（即空圆）</li>\n</ul>\n<p>这个性质被称为：</p>\n<blockquote>\n<p><strong>空圆判据（Empty Circle Criterion）</strong></p>\n</blockquote>\n<p>也就是说，一个三角形如果能成为 Delaunay 三角形，它的圆中除了这三点不能有其他点。</p>\n<hr>\n<h3 id=\"3-delaunay-边-voronoi-cell-相邻\"><a class=\"anchor\" href=\"#3-delaunay-边-voronoi-cell-相邻\">#</a> 3. Delaunay 边 ⇔ Voronoi cell 相邻</h3>\n<p>边 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p_i, p_j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.036108em;vertical-align:-0.286108em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 是 Delaunay 图中的一条边，当且仅当：</p>\n<h4 id=\"方式一通过-voronoi-二分线\"><a class=\"anchor\" href=\"#方式一通过-voronoi-二分线\">#</a> 方式一：通过 Voronoi 二分线</h4>\n<ul>\n<li>\n<p>存在一个 Voronoi 图中的点 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span>，在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> 的二分线上</p>\n</li>\n<li>\n<p>并且这个点到其他所有点的距离都更远（即最大空圆只接触这两点）</p>\n</li>\n<li>\n<p>那么 cell (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>) 与 cell (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>) 相邻，说明这两个点之间有 Delaunay 边</p>\n</li>\n</ul>\n<h4 id=\"方式二通过空圆盘判据\"><a class=\"anchor\" href=\"#方式二通过空圆盘判据\">#</a> 方式二：通过空圆盘判据</h4>\n<ul>\n<li>\n<p>存在一个圆（disk），其边界上有 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span></p>\n</li>\n<li>\n<p>且这个圆内部不包含任何其它点</p>\n</li>\n<li>\n<p>那么 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p_i, p_j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.036108em;vertical-align:-0.286108em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 是一条合法的 Delaunay 边</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"图像理解补充\"><a class=\"anchor\" href=\"#图像理解补充\">#</a> 图像理解补充：</h3>\n<ul>\n<li>\n<p>图 1 显示了 Voronoi 顶点作为三个 Voronoi cell 的交点，对应 Delaunay 外心</p>\n</li>\n<li>\n<p>图 2 强调了三角形外接圆中不能有额外点的 Delaunay 三角形</p>\n</li>\n<li>\n<p>图 3 展示了连接两个点的 Delaunay 边，其对应的 Voronoi edge 和空圆验证条件</p>\n</li>\n</ul>\n<p>这些性质是理解 Delaunay 与 Voronoi 之间几何对偶的关键基础。</p>\n<h2 id=\"定理delaunay-triangulation-一定是平面图planar\"><a class=\"anchor\" href=\"#定理delaunay-triangulation-一定是平面图planar\">#</a> 定理：Delaunay Triangulation 一定是平面图（Planar）</h2>\n<h3 id=\"目标\"><a class=\"anchor\" href=\"#目标\">#</a> 目标：</h3>\n<p>证明 Delaunay 图 Del (P) 中的边不会相交</p>\n<hr>\n<h3 id=\"️-证明方法反证法proof-by-contradiction\"><a class=\"anchor\" href=\"#️-证明方法反证法proof-by-contradiction\">#</a> ✳️ 证明方法：反证法（Proof by contradiction）</h3>\n<h3 id=\"假设存在两条-delaunay-边相交\"><a class=\"anchor\" href=\"#假设存在两条-delaunay-边相交\">#</a> 假设：存在两条 Delaunay 边相交</h3>\n<p>设两条相交的边为：</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p_i, p_j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.036108em;vertical-align:-0.286108em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mi>k</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>l</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p_k, p_l)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></li>\n</ul>\n<hr>\n<h3 id=\"步骤-1构造以-p_i-p_j-为边界的空圆\"><a class=\"anchor\" href=\"#步骤-1构造以-p_i-p_j-为边界的空圆\">#</a> 步骤 1：构造以 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p_i, p_j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.036108em;vertical-align:-0.286108em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 为边界的空圆</h3>\n<ul>\n<li>存在空圆 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">C_{ij}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.969438em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> 在圆上</li>\n<li>设圆心为 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">r_{ij}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>，构造三角形 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi mathvariant=\"normal\">△</mi><mo stretchy=\"false\">(</mo><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">t_{ij} = \\triangle(r_{ij}, p_i, p_j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9011879999999999em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.036108em;vertical-align:-0.286108em;\"></span><span class=\"mord\">△</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></li>\n</ul>\n<p>根据 Voronoi 性质：</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mrow><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi>p</mi><mi>i</mi></msub></mrow><mo stretchy=\"true\">‾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{r_{ij}p_i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.916668em;vertical-align:-0.286108em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span> 在 Vor (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>) 中</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mrow><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi>p</mi><mi>j</mi></msub></mrow><mo stretchy=\"true\">‾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{r_{ij}p_j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.916668em;vertical-align:-0.286108em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span> 在 Vor (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>) 中</li>\n</ul>\n<p>结论：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mi>k</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>l</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p_k, p_l)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 必须在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">C_{ij}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.969438em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> 外部，否则违反空圆判据</p>\n<hr>\n<h3 id=\"步骤-2构造以-p_k-p_l-为边界的空圆\"><a class=\"anchor\" href=\"#步骤-2构造以-p_k-p_l-为边界的空圆\">#</a> 步骤 2：构造以 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mi>k</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>l</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p_k, p_l)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 为边界的空圆</h3>\n<ul>\n<li kl>存在空圆 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">C_{kl}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>k</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>l</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_l</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 在圆上，设圆心为 r_</li>\n<li>构造三角形 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub><mo>=</mo><mi mathvariant=\"normal\">△</mi><mo stretchy=\"false\">(</mo><msub><mi>r</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>k</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>l</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">t_{kl} = \\triangle(r_{kl}, p_k, p_l)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">△</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></li>\n</ul>\n<p>考虑两种情况：</p>\n<h4 id=\"case-1overliner_klp_k-和-overliner_klp_l-不与-t_ij-相交\"><a class=\"anchor\" href=\"#case-1overliner_klp_k-和-overliner_klp_l-不与-t_ij-相交\">#</a> 🔹 Case 1：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mrow><msub><mi>r</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub><msub><mi>p</mi><mi>k</mi></msub></mrow><mo stretchy=\"true\">‾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{r_{kl}p_k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.825em;vertical-align:-0.19444em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span></span></span></span> 和 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mrow><msub><mi>r</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub><msub><mi>p</mi><mi>l</mi></msub></mrow><mo stretchy=\"true\">‾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{r_{kl}p_l}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.825em;vertical-align:-0.19444em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span></span></span></span> 不与 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{ij}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9011879999999999em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> 相交</h4>\n<ul>\n<li>此时三角形 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{kl}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 与 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{ij}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9011879999999999em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> 没有交集</li>\n<li>由于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p_i, p_j)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.036108em;vertical-align:-0.286108em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 与 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mi>k</mi></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>l</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p_k, p_l)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> 是相交的 ⇒ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 或 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> 必定落在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">C_{kl}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 内部</li>\n<li>矛盾：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">C_{kl}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> 是空圆，不能包含其他点</li>\n</ul>\n<p>🟥 <strong>矛盾！</strong></p>\n<hr>\n<h4 id=\"case-2overliner_klp_k-或-overliner_klp_l-与-t_ij-相交\"><a class=\"anchor\" href=\"#case-2overliner_klp_k-或-overliner_klp_l-与-t_ij-相交\">#</a> 🔹 Case 2：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mrow><msub><mi>r</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub><msub><mi>p</mi><mi>k</mi></msub></mrow><mo stretchy=\"true\">‾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{r_{kl}p_k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.825em;vertical-align:-0.19444em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span></span></span></span> 或 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mrow><msub><mi>r</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub><msub><mi>p</mi><mi>l</mi></msub></mrow><mo stretchy=\"true\">‾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{r_{kl}p_l}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.825em;vertical-align:-0.19444em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span></span></span></span> 与 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{ij}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9011879999999999em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> 相交</h4>\n<ul>\n<li ij>比如 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mrow><msub><mi>r</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub><msub><mi>p</mi><mi>k</mi></msub></mrow><mo stretchy=\"true\">‾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{r_{kl}p_k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.825em;vertical-align:-0.19444em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span></span></span></span> 穿过 t_</li>\n<li>那么 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mrow><msub><mi>r</mi><mrow><mi>k</mi><mi>l</mi></mrow></msub><msub><mi>p</mi><mi>k</mi></msub></mrow><mo stretchy=\"true\">‾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{r_{kl}p_k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.825em;vertical-align:-0.19444em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span></span></span></span> 落入 Vor (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>)，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mrow><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi>p</mi><mi>j</mi></msub></mrow><mo stretchy=\"true\">‾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{r_{ij}p_j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.916668em;vertical-align:-0.286108em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span> 也在 Vor (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>)</li>\n<li>说明 Vor (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>j</mi></msub></mrow><annotation encoding=\"application/x-tex\">p_j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>) 被两个非相邻边交叉穿过</li>\n<li>与 Voronoi 图结构矛盾（边不能交叉）</li>\n</ul>\n<p>🟥 <strong>矛盾！</strong></p>\n<hr>\n<h3 id=\"最终结论\"><a class=\"anchor\" href=\"#最终结论\">#</a> ✅ 最终结论：</h3>\n<p>无论哪种情况，假设边交叉都会导致矛盾</p>\n<blockquote>\n<p>所以 Delaunay Triangulation 中边不能交叉 ⇒ 一定是平面图（planar）</p>\n</blockquote>\n",
            "tags": [
                "计算机科学",
                "计算几何"
            ]
        },
        {
            "id": "http://example.com/2025/06/12/computer/ComputationalGeometry/lec5%20Range%20Searching%201/",
            "url": "http://example.com/2025/06/12/computer/ComputationalGeometry/lec5%20Range%20Searching%201/",
            "title": "lec5 Range Searching 1",
            "date_published": "2025-06-12T00:07:20.763Z",
            "content_html": "<p>重点:kd-tree 和 range tree</p>\n<p>首先，可以参考 ass2 的第一题，kd-tree 的绘制和 range-tree 的绘制。</p>\n<p>其次，我们来一点点深入了解这几个知识点。</p>\n<h3 id=\"kd-tree\"><a class=\"anchor\" href=\"#kd-tree\">#</a> kd-tree</h3>\n<p>kd-tree 在后续的许多应用中都会有涉及。<br>\n首先，构建 kd-tree 需要 O (nlogn) 的构建时间和 O (n) 的构建空间 (具体推导过程可以去看 ppt)<br>\n🔹 方案一：使用排序方式找中位数<br>\n在每一层：</p>\n<ol>\n<li><strong>排序或选择中位点：</strong> O (n) 或 O (nlog⁡n)，具体取决于用排序还是选择算法。</li>\n<li><strong>划分左右子树：</strong> O(n)</li>\n<li><strong>递归调用左右子树：</strong> 每边是 n/2 个点<br>\n于是：<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mn>2</mn><mi>T</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">T(n) = O(n) + 2T(n/2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mord\">/</span><span class=\"mord\">2</span><span class=\"mclose\">)</span></span></span></span><br>\n 这就是典型的<strong>完全二叉树构建递归式</strong>，解出来是：<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">T(n) = O(n \\log n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span><br>\n 以及标准的平衡二叉树空间复杂度 O (n)<br>\n 然后是查询的时间复杂度</li>\n</ol>\n<p>查询时间分析核心思想<br>\n我们想知道：<strong>有多少个 “被访问但不产生结果” 的节点？</strong>（即这些节点的 region 与 R 相交，但最终不包含任何点）<br>\n老师采用的是<strong>可视化 + 递归建模</strong>来分析。</p>\n<hr>\n<ul>\n<li>假设我们用一条<strong>竖线 L</strong> 穿过查询矩形 R；</li>\n<li>然后问：有多少个 KD-Tree 划分出来的矩形 region 会跟这条 L 相交？<br>\n<strong>结论：</strong></li>\n</ul>\n<blockquote>\n<p>这个数量最多是 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msqrt><mi>n</mi></msqrt><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(\\sqrt{n})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.05028em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8002800000000001em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord mathnormal\">n</span></span></span><span style=\"top:-2.76028em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg width=\"400em\" height=\"1.08em\" viewbox=\"0 0 400000 1080\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.23972em;\"><span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>，再乘上一个常数（最多 4 个区域被每个水平或垂直线段交到）。</p>\n</blockquote>\n<p>定义 Q (n)：查询一个 KD-Tree 有 nnn 个点时最多访问的节点数。</p>\n<ol>\n<li>第一层我们访问 1 个节点；</li>\n<li>第二层我们可能访问它的两个子树（假设是四个区域）；</li>\n<li>然后分别继续查各自的左右子树。<br>\n于是得：<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>1</mn><mo>+</mo><mn>2</mn><mi>Q</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn><mo stretchy=\"false\">)</mo><mspace width=\"1em\"><mo>⇒</mo><mspace width=\"1em\"><mi>Q</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>O</mi><mo stretchy=\"false\">(</mo><msqrt><mi>n</mi></msqrt><mo stretchy=\"false\">)</mo></mspace></mspace></mrow><annotation encoding=\"application/x-tex\">Q(n) = 1 + 2Q(n/2) \\quad \\Rightarrow \\quad Q(n) = O(\\sqrt{n})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">2</span><span class=\"mord mathnormal\">Q</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mord\">/</span><span class=\"mord\">2</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.05028em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8002800000000001em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord mathnormal\">n</span></span></span><span style=\"top:-2.76028em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg width=\"400em\" height=\"1.08em\" viewbox=\"0 0 400000 1080\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.23972em;\"><span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></li>\n</ol>\n<hr>\n<p>✅ 五、最终查询时间总结（第 6 张图）<br>\n你可以记住这句最核心的 KD-Tree 查询时间分析结论：<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>查询时间</mtext><mo>=</mo><mi>O</mi><mo stretchy=\"false\">(</mo><msqrt><mi>n</mi></msqrt><mo>+</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">{查询时间} = O(\\sqrt{n} + k)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord cjk_fallback\">查</span><span class=\"mord cjk_fallback\">询</span><span class=\"mord cjk_fallback\">时</span><span class=\"mord cjk_fallback\">间</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.05028em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8002800000000001em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord mathnormal\">n</span></span></span><span style=\"top:-2.76028em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg width=\"400em\" height=\"1.08em\" viewbox=\"0 0 400000 1080\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.23972em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">)</span></span></span></span><br>\n 其中：</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msqrt><mi>n</mi></msqrt></mrow><annotation encoding=\"application/x-tex\">\\sqrt{n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.04em;vertical-align:-0.23972em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8002800000000001em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord mathnormal\">n</span></span></span><span style=\"top:-2.76028em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg width=\"400em\" height=\"1.08em\" viewbox=\"0 0 400000 1080\" preserveaspectratio=\"xMinYMin slice\"><path d=\"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.23972em;\"><span></span></span></span></span></span></span></span></span>​：是最多访问这么多个 “无用节点” 的上界；</li>\n<li>k：是最终在矩形 R 中找到的点的个数（输出代价）。</li>\n</ul>\n<h3 id=\"range-tree\"><a class=\"anchor\" href=\"#range-tree\">#</a> range-tree</h3>\n<p>通俗来讲，就是把树按照 x 来排列，然后在每个子节点的上面挂一个子树，存放着 y 坐标<br>\n但是因此时间复杂度较高，因为两个树进行二分查找的时间复杂度都为 O (logn)，因此，总的复杂度需要 O (logn) * O (logn) = <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>l</mi><mi>o</mi><msup><mi>g</mi><mn>2</mn></msup><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(log^2n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span><br>\n 那么有什么优化的方式吗？<br>\nFractional Cascading<br>\n 将 Range Tree 的子树部分切割成指针引导的结构，即可以 把子树的二分查找的优化掉。</p>\n",
            "tags": [
                "计算机科学",
                "计算几何"
            ]
        },
        {
            "id": "http://example.com/2025/06/07/computer/ComputationalGeometry/lec4%20Linear%20Programmin(%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93%E7%89%88)/",
            "url": "http://example.com/2025/06/07/computer/ComputationalGeometry/lec4%20Linear%20Programmin(%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93%E7%89%88)/",
            "title": "lec4 Linear Programming(个人总结版)",
            "date_published": "2025-06-07T07:42:59.066Z",
            "content_html": "<p>首先，讨论了一个现实问题，引入了线性规划相关的知识，即通过一系列的不等式规划出一个区域，然后将目标函数与目标区域的相交点结合，看哪个点最好</p>\n<h3 id=\"增量算法\"><a class=\"anchor\" href=\"#增量算法\">#</a> 增量算法</h3>\n<p>可以首先添加一个简单的且很大的边界，然后将约束条件一次次加入这个区域中，如果最优点 v_i-1 仍然在最新的区域中，那么 v_i=v_i-1，否则重新计算 v_i<br>\n 复杂度：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><br>\n 由于每一轮的遍历复杂度都为 O (i)，进行 n 个循环<br>\n这是最坏的情况，那么如果我们一开始就将最重要的两个限制加入，直接确定了最终的点 v，那么我们的复杂度会非常低，变成 O (n)，但是如果要找到这种最好的顺序，几乎是不可能的，因为情况太多了，所以，我们考虑了接下来这种方式</p>\n<h3 id=\"随机增量算法\"><a class=\"anchor\" href=\"#随机增量算法\">#</a> 随机增量算法</h3>\n<p>一系列证明过程，证明随机化后的期望时间为 O (3n) 也就是 O (n)</p>\n<p>然后可以引入，最小外接圆问题，有一系列的点，如何找出这个最小的外接圆，能包含所有的点；<br>\n我们也可以用随机增量算法来实现，即一次次加入点，如果这个点在圆外，那么这个点一定在新的最小外接圆的边上。</p>\n<h3 id=\"mindisk算法\"><a class=\"anchor\" href=\"#mindisk算法\">#</a> MinDisk 算法</h3>\n<p><strong>伪代码讲解：</strong></p>\n<ol>\n<li>\n<p>把所有点随机排列。</p>\n</li>\n<li>\n<p>用前两个点画一个圆。</p>\n</li>\n<li>\n<p>然后一个一个加点：</p>\n<ul>\n<li>\n<p>如果新点在旧圆里 → 不用动。</p>\n</li>\n<li>\n<p>如果新点不在圆里 → 那我们就需要重新算一个新的圆，而且这个点一定在边上。</p>\n</li>\n</ul>\n<p>这时我们调用另一个函数：MinDiskWith1pt（已知一个边界点来画圆）。</p>\n</li>\n</ol>\n<p>现在你已经知道有一个点（pi）肯定在圆的边上了，那怎么画这个最小圆呢？</p>\n<p>老师的方法是：</p>\n<ol>\n<li>\n<p>把之前所有的点（pi 之前的那些）随机排列。</p>\n</li>\n<li>\n<p>用第一个点 p₁ 和 pi 一起画一个圆。</p>\n</li>\n<li>\n<p>然后一个个把剩下的点放进去：</p>\n<ul>\n<li>\n<p>✅ 如果这个点还在圆里，什么都不做。</p>\n</li>\n<li>\n<p>❌ 如果这个点不在圆里，那它也得在新圆的边上。</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>这时候我们需要再调用一个新函数：MinDiskWith2pts（已知两个边界点来画圆）。</p>\n<p><strong>还是用小朋友能懂的语言：</strong></p>\n<ol>\n<li>\n<p>把之前的点再随机排列一遍。</p>\n</li>\n<li>\n<p>用 pi 和 pj 这两个点先画一个圆。</p>\n</li>\n<li>\n<p>然后一个个加点：</p>\n<ul>\n<li>\n<p>✅ 如果在圆里，继续。</p>\n</li>\n<li>\n<p>❌ 如果不在，就用 pi、pj、pk（这三个点）画一个新的圆。</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>这时候，新的圆一定会把这三个点刚好包在边上。</p>\n",
            "tags": [
                "计算机科学",
                "计算几何"
            ]
        },
        {
            "id": "http://example.com/2025/06/06/computer/DataAnalyze/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A02/",
            "url": "http://example.com/2025/06/06/computer/DataAnalyze/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A02/",
            "title": "期末复习2",
            "date_published": "2025-06-06T02:25:39.106Z",
            "content_html": "<p>lec7 的内容主要在于 区分各种概念，例如机器学习，分类聚类等，然后有几个公式需要记，已经记在 cheatsheet 上了。</p>\n<p>apriori 算法<br>\n通俗来讲，就是通过所有的频繁的组合都是由单一的频繁项来组成的。比如说，A,B,C,D 四个元素，首先构造一个  <code>min_support</code> , 然后进行迭代，先剪枝掉元素中 k&lt; <code>min_support</code>  的元素，再对剩余元素进行排列组合，最终得到频率最高的组合。</p>\n<p>Rule Generation 可以说是枚举法，对所有可能的组合都进行枚举，将组合的所有非空真子集列出来，并将这些候选进行区分。<br>\nEfficient Rule Generation 在前者基础上，由于<br>\n c (ABC→D)≥c (AB→CD)≥c (A→BCD)，所以当我们直到第一个不符合的时候，后续的也不必列出了，因此大大降低了无效筛选</p>\n<p>lec8</p>\n<p>k-means 算法<br>\n <figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span>: Select K points as the initial centroids.</span><br><span class=\"line\"><span class=\"number\">2</span>: repeat</span><br><span class=\"line\"><span class=\"number\">3</span>:     Form K clusters by assigning all points to the closest centroid.</span><br><span class=\"line\"><span class=\"number\">4</span>:     Recompute the centroid of each cluster.</span><br><span class=\"line\"><span class=\"number\">5</span>: until the centroids don’t change</span><br></pre></td></tr></table></figure><br>\n 就是，设置 k 个中心点，然后将这一些点分成 k 个聚类，然后重新分组，直到收敛<br>\n重新计算质心的过程就是计算每个点和其他点的距离，然后选距离和最小的一个点</p>\n<p>To get SSE, we square these errors and sum them. <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mrow><mi mathvariant=\"normal\">S</mi><mi mathvariant=\"normal\">S</mi><mi mathvariant=\"normal\">E</mi></mrow><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></msubsup><msub><mo>∑</mo><mrow><mi>x</mi><mo>∈</mo><msub><mi>C</mi><mi>i</mi></msub></mrow></msub><msup><mrow><mi mathvariant=\"normal\">d</mi><mi mathvariant=\"normal\">i</mi><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">t</mi></mrow><mn>2</mn></msup><mo stretchy=\"false\">(</mo><msub><mi>m</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathrm{SSE} = \\sum_{i=1}^{K} \\sum_{x \\in C_i} \\mathrm{dist}^2(m_i, x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">S</span><span class=\"mord mathrm\">S</span><span class=\"mord mathrm\">E</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.381041em;vertical-align:-0.39981em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.981231em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.29971000000000003em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.17862099999999992em;\"><span style=\"top:-2.40029em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\">∈</span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3280857142857143em;\"><span style=\"top:-2.357em;margin-left:-0.07153em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.39981em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">d</span><span class=\"mord mathrm\">i</span><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">t</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8984479999999999em;\"><span style=\"top:-3.1473400000000002em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span></p>\n<ul>\n<li>Cluster 1: [2, 4] with centroid at 3 Squared error for each cluster:  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>SE1</mtext><mo>=</mo><mo stretchy=\"false\">(</mo><mn>2</mn><mo>−</mo><mn>3</mn><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=\"false\">(</mo><mn>4</mn><mo>−</mo><mn>3</mn><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>=</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">\\text{SE1} = (2 - 3)^2 + (4 - 3)^2 = 1 + 1 = 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord text\"><span class=\"mord\">SE1</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\">3</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">4</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\">3</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span></span></span></li>\n</ul>\n",
            "tags": [
                "计算机科学",
                "数据分析"
            ]
        }
    ]
}